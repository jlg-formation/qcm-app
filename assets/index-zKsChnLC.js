(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ae={},wn=[],bt=()=>{},Iu=()=>!1,tr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Oi=e=>e.startsWith("onUpdate:"),Me=Object.assign,Ii=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Tu=Object.prototype.hasOwnProperty,se=(e,t)=>Tu.call(e,t),K=Array.isArray,bn=e=>nr(e)==="[object Map]",Ja=e=>nr(e)==="[object Set]",Q=e=>typeof e=="function",ge=e=>typeof e=="string",Wt=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",za=e=>(de(e)||Q(e))&&Q(e.then)&&Q(e.catch),Qa=Object.prototype.toString,nr=e=>Qa.call(e),$u=e=>nr(e).slice(8,-1),Xa=e=>nr(e)==="[object Object]",Ti=e=>ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vn=Pi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Mu=/-(\w)/g,Ze=sr(e=>e.replace(Mu,(t,n)=>n?n.toUpperCase():"")),Fu=/\B([A-Z])/g,sn=sr(e=>e.replace(Fu,"-$1").toLowerCase()),rr=sr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ar=sr(e=>e?`on${rr(e)}`:""),Ut=(e,t)=>!Object.is(e,t),Ms=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ga=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Zr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Oo;const ir=()=>Oo||(Oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $i(e){if(K(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=ge(s)?Lu(s):$i(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(ge(e)||de(e))return e}const Nu=/;(?![^(]*\))/g,ku=/:([^]+)/,Du=/\/\*[^]*?\*\//g;function Lu(e){const t={};return e.replace(Du,"").split(Nu).forEach(n=>{if(n){const s=n.split(ku);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function or(e){let t="";if(ge(e))t=e;else if(K(e))for(let n=0;n<e.length;n++){const s=or(e[n]);s&&(t+=s+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Bu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ju=Pi(Bu);function Ya(e){return!!e||e===""}const Za=e=>!!(e&&e.__v_isRef===!0),st=e=>ge(e)?e:e==null?"":K(e)||de(e)&&(e.toString===Qa||!Q(e.toString))?Za(e)?st(e.value):JSON.stringify(e,el,2):String(e),el=(e,t)=>Za(t)?el(e,t.value):bn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Er(s,i)+" =>"]=r,n),{})}:Ja(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Er(n))}:Wt(t)?Er(t):de(t)&&!K(t)&&!Xa(t)?String(t):t,Er=(e,t="")=>{var n;return Wt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ne;class tl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ne,!t&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ne;try{return Ne=this,t()}finally{Ne=n}}}on(){Ne=this}off(){Ne=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function nl(e){return new tl(e)}function sl(){return Ne}function Uu(e,t=!1){Ne&&Ne.cleanups.push(e)}let ce;const Pr=new WeakSet;class rl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ne&&Ne.active&&Ne.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pr.has(this)&&(Pr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ol(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Io(this),al(this);const t=ce,n=it;ce=this,it=!0;try{return this.fn()}finally{ll(this),ce=t,it=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ni(t);this.deps=this.depsTail=void 0,Io(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ei(this)&&this.run()}get dirty(){return ei(this)}}let il=0,qn,Kn;function ol(e,t=!1){if(e.flags|=8,t){e.next=Kn,Kn=e;return}e.next=qn,qn=e}function Mi(){il++}function Fi(){if(--il>0)return;if(Kn){let t=Kn;for(Kn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;qn;){let t=qn;for(qn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function al(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ll(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Ni(s),Hu(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function ei(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(cl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function cl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ns))return;e.globalVersion=ns;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ei(e)){e.flags&=-3;return}const n=ce,s=it;ce=e,it=!0;try{al(e);const r=e.fn(e._value);(t.version===0||Ut(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ce=n,it=s,ll(e),e.flags&=-3}}function Ni(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ni(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Hu(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let it=!0;const ul=[];function Vt(){ul.push(it),it=!1}function qt(){const e=ul.pop();it=e===void 0?!0:e}function Io(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ce;ce=void 0;try{t()}finally{ce=n}}}let ns=0;class Wu{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ki{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ce||!it||ce===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ce)n=this.activeLink=new Wu(ce,this),ce.deps?(n.prevDep=ce.depsTail,ce.depsTail.nextDep=n,ce.depsTail=n):ce.deps=ce.depsTail=n,fl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ce.depsTail,n.nextDep=void 0,ce.depsTail.nextDep=n,ce.depsTail=n,ce.deps===n&&(ce.deps=s)}return n}trigger(t){this.version++,ns++,this.notify(t)}notify(t){Mi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Fi()}}}function fl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)fl(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ws=new WeakMap,Zt=Symbol(""),ti=Symbol(""),ss=Symbol("");function Oe(e,t,n){if(it&&ce){let s=Ws.get(e);s||Ws.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new ki),r.map=s,r.key=n),r.track()}}function Ot(e,t,n,s,r,i){const o=Ws.get(e);if(!o){ns++;return}const a=l=>{l&&l.trigger()};if(Mi(),t==="clear")o.forEach(a);else{const l=K(e),c=l&&Ti(n);if(l&&n==="length"){const f=Number(s);o.forEach((u,p)=>{(p==="length"||p===ss||!Wt(p)&&p>=f)&&a(u)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(ss)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Zt)),bn(e)&&a(o.get(ti)));break;case"delete":l||(a(o.get(Zt)),bn(e)&&a(o.get(ti)));break;case"set":bn(e)&&a(o.get(Zt));break}}Fi()}function Vu(e,t){const n=Ws.get(e);return n&&n.get(t)}function an(e){const t=ee(e);return t===e?t:(Oe(t,"iterate",ss),Ye(e)?t:t.map(Ie))}function ar(e){return Oe(e=ee(e),"iterate",ss),e}const qu={__proto__:null,[Symbol.iterator](){return Or(this,Symbol.iterator,Ie)},concat(...e){return an(this).concat(...e.map(t=>K(t)?an(t):t))},entries(){return Or(this,"entries",e=>(e[1]=Ie(e[1]),e))},every(e,t){return Ct(this,"every",e,t,void 0,arguments)},filter(e,t){return Ct(this,"filter",e,t,n=>n.map(Ie),arguments)},find(e,t){return Ct(this,"find",e,t,Ie,arguments)},findIndex(e,t){return Ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ct(this,"findLast",e,t,Ie,arguments)},findLastIndex(e,t){return Ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ir(this,"includes",e)},indexOf(...e){return Ir(this,"indexOf",e)},join(e){return an(this).join(e)},lastIndexOf(...e){return Ir(this,"lastIndexOf",e)},map(e,t){return Ct(this,"map",e,t,void 0,arguments)},pop(){return Fn(this,"pop")},push(...e){return Fn(this,"push",e)},reduce(e,...t){return To(this,"reduce",e,t)},reduceRight(e,...t){return To(this,"reduceRight",e,t)},shift(){return Fn(this,"shift")},some(e,t){return Ct(this,"some",e,t,void 0,arguments)},splice(...e){return Fn(this,"splice",e)},toReversed(){return an(this).toReversed()},toSorted(e){return an(this).toSorted(e)},toSpliced(...e){return an(this).toSpliced(...e)},unshift(...e){return Fn(this,"unshift",e)},values(){return Or(this,"values",Ie)}};function Or(e,t,n){const s=ar(e),r=s[t]();return s!==e&&!Ye(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Ku=Array.prototype;function Ct(e,t,n,s,r,i){const o=ar(e),a=o!==e&&!Ye(e),l=o[t];if(l!==Ku[t]){const u=l.apply(e,i);return a?Ie(u):u}let c=n;o!==e&&(a?c=function(u,p){return n.call(this,Ie(u),p,e)}:n.length>2&&(c=function(u,p){return n.call(this,u,p,e)}));const f=l.call(o,c,s);return a&&r?r(f):f}function To(e,t,n,s){const r=ar(e);let i=n;return r!==e&&(Ye(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,Ie(a),l,e)}),r[t](i,...s)}function Ir(e,t,n){const s=ee(e);Oe(s,"iterate",ss);const r=s[t](...n);return(r===-1||r===!1)&&Bi(n[0])?(n[0]=ee(n[0]),s[t](...n)):r}function Fn(e,t,n=[]){Vt(),Mi();const s=ee(e)[t].apply(e,n);return Fi(),qt(),s}const Ju=Pi("__proto__,__v_isRef,__isVue"),dl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Wt));function zu(e){Wt(e)||(e=String(e));const t=ee(this);return Oe(t,"has",e),t.hasOwnProperty(e)}class hl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?rf:_l:i?gl:ml).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=K(t);if(!r){let l;if(o&&(l=qu[n]))return l;if(n==="hasOwnProperty")return zu}const a=Reflect.get(t,n,pe(t)?t:s);return(Wt(n)?dl.has(n):Ju(n))||(r||Oe(t,"get",n),i)?a:pe(a)?o&&Ti(n)?a:a.value:de(a)?r?wl(a):fs(a):a}}class pl extends hl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const l=tn(i);if(!Ye(s)&&!tn(s)&&(i=ee(i),s=ee(s)),!K(t)&&pe(i)&&!pe(s))return l?!1:(i.value=s,!0)}const o=K(t)&&Ti(n)?Number(n)<t.length:se(t,n),a=Reflect.set(t,n,s,pe(t)?t:r);return t===ee(r)&&(o?Ut(s,i)&&Ot(t,"set",n,s):Ot(t,"add",n,s)),a}deleteProperty(t,n){const s=se(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ot(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Wt(n)||!dl.has(n))&&Oe(t,"has",n),s}ownKeys(t){return Oe(t,"iterate",K(t)?"length":Zt),Reflect.ownKeys(t)}}class Qu extends hl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Xu=new pl,Gu=new Qu,Yu=new pl(!0);const ni=e=>e,bs=e=>Reflect.getPrototypeOf(e);function Zu(e,t,n){return function(...s){const r=this.__v_raw,i=ee(r),o=bn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...s),f=n?ni:t?si:Ie;return!t&&Oe(i,"iterate",l?ti:Zt),{next(){const{value:u,done:p}=c.next();return p?{value:u,done:p}:{value:a?[f(u[0]),f(u[1])]:f(u),done:p}},[Symbol.iterator](){return this}}}}function vs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ef(e,t){const n={get(r){const i=this.__v_raw,o=ee(i),a=ee(r);e||(Ut(r,a)&&Oe(o,"get",r),Oe(o,"get",a));const{has:l}=bs(o),c=t?ni:e?si:Ie;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Oe(ee(r),"iterate",Zt),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=ee(i),a=ee(r);return e||(Ut(r,a)&&Oe(o,"has",r),Oe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ee(a),c=t?ni:e?si:Ie;return!e&&Oe(l,"iterate",Zt),a.forEach((f,u)=>r.call(i,c(f),c(u),o))}};return Me(n,e?{add:vs("add"),set:vs("set"),delete:vs("delete"),clear:vs("clear")}:{add(r){!t&&!Ye(r)&&!tn(r)&&(r=ee(r));const i=ee(this);return bs(i).has.call(i,r)||(i.add(r),Ot(i,"add",r,r)),this},set(r,i){!t&&!Ye(i)&&!tn(i)&&(i=ee(i));const o=ee(this),{has:a,get:l}=bs(o);let c=a.call(o,r);c||(r=ee(r),c=a.call(o,r));const f=l.call(o,r);return o.set(r,i),c?Ut(i,f)&&Ot(o,"set",r,i):Ot(o,"add",r,i),this},delete(r){const i=ee(this),{has:o,get:a}=bs(i);let l=o.call(i,r);l||(r=ee(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&Ot(i,"delete",r,void 0),c},clear(){const r=ee(this),i=r.size!==0,o=r.clear();return i&&Ot(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Zu(r,e,t)}),n}function Di(e,t){const n=ef(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(se(n,r)&&r in s?n:s,r,i)}const tf={get:Di(!1,!1)},nf={get:Di(!1,!0)},sf={get:Di(!0,!1)};const ml=new WeakMap,gl=new WeakMap,_l=new WeakMap,rf=new WeakMap;function of(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function af(e){return e.__v_skip||!Object.isExtensible(e)?0:of($u(e))}function fs(e){return tn(e)?e:Li(e,!1,Xu,tf,ml)}function yl(e){return Li(e,!1,Yu,nf,gl)}function wl(e){return Li(e,!0,Gu,sf,_l)}function Li(e,t,n,s,r){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=af(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function Ht(e){return tn(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function tn(e){return!!(e&&e.__v_isReadonly)}function Ye(e){return!!(e&&e.__v_isShallow)}function Bi(e){return e?!!e.__v_raw:!1}function ee(e){const t=e&&e.__v_raw;return t?ee(t):e}function ji(e){return!se(e,"__v_skip")&&Object.isExtensible(e)&&Ga(e,"__v_skip",!0),e}const Ie=e=>de(e)?fs(e):e,si=e=>de(e)?wl(e):e;function pe(e){return e?e.__v_isRef===!0:!1}function ve(e){return bl(e,!1)}function lf(e){return bl(e,!0)}function bl(e,t){return pe(e)?e:new cf(e,t)}class cf{constructor(t,n){this.dep=new ki,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ee(t),this._value=n?t:Ie(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ye(t)||tn(t);t=s?t:ee(t),Ut(t,n)&&(this._rawValue=t,this._value=s?t:Ie(t),this.dep.trigger())}}function Qe(e){return pe(e)?e.value:e}const uf={get:(e,t,n)=>t==="__v_raw"?e:Qe(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return pe(r)&&!pe(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function vl(e){return Ht(e)?e:new Proxy(e,uf)}function ff(e){const t=K(e)?new Array(e.length):{};for(const n in e)t[n]=hf(e,n);return t}class df{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Vu(ee(this._object),this._key)}}function hf(e,t,n){const s=e[t];return pe(s)?s:new df(e,t,n)}class pf{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ki(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ns-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ce!==this)return ol(this,!0),!0}get value(){const t=this.dep.track();return cl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function mf(e,t,n=!1){let s,r;return Q(e)?s=e:(s=e.get,r=e.set),new pf(s,r,n)}const xs={},Vs=new WeakMap;let Xt;function gf(e,t=!1,n=Xt){if(n){let s=Vs.get(n);s||Vs.set(n,s=[]),s.push(e)}}function _f(e,t,n=ae){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=R=>r?R:Ye(R)||r===!1||r===0?It(R,1):It(R);let f,u,p,m,y=!1,_=!1;if(pe(e)?(u=()=>e.value,y=Ye(e)):Ht(e)?(u=()=>c(e),y=!0):K(e)?(_=!0,y=e.some(R=>Ht(R)||Ye(R)),u=()=>e.map(R=>{if(pe(R))return R.value;if(Ht(R))return c(R);if(Q(R))return l?l(R,2):R()})):Q(e)?t?u=l?()=>l(e,2):e:u=()=>{if(p){Vt();try{p()}finally{qt()}}const R=Xt;Xt=f;try{return l?l(e,3,[m]):e(m)}finally{Xt=R}}:u=bt,t&&r){const R=u,k=r===!0?1/0:r;u=()=>It(R(),k)}const C=sl(),$=()=>{f.stop(),C&&C.active&&Ii(C.effects,f)};if(i&&t){const R=t;t=(...k)=>{R(...k),$()}}let w=_?new Array(e.length).fill(xs):xs;const E=R=>{if(!(!(f.flags&1)||!f.dirty&&!R))if(t){const k=f.run();if(r||y||(_?k.some((U,N)=>Ut(U,w[N])):Ut(k,w))){p&&p();const U=Xt;Xt=f;try{const N=[k,w===xs?void 0:_&&w[0]===xs?[]:w,m];l?l(t,3,N):t(...N),w=k}finally{Xt=U}}}else f.run()};return a&&a(E),f=new rl(u),f.scheduler=o?()=>o(E,!1):E,m=R=>gf(R,!1,f),p=f.onStop=()=>{const R=Vs.get(f);if(R){if(l)l(R,4);else for(const k of R)k();Vs.delete(f)}},t?s?E(!0):w=f.run():o?o(E.bind(null,!0),!0):f.run(),$.pause=f.pause.bind(f),$.resume=f.resume.bind(f),$.stop=$,$}function It(e,t=1/0,n){if(t<=0||!de(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,pe(e))It(e.value,t,n);else if(K(e))for(let s=0;s<e.length;s++)It(e[s],t,n);else if(Ja(e)||bn(e))e.forEach(s=>{It(s,t,n)});else if(Xa(e)){for(const s in e)It(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&It(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ds(e,t,n,s){try{return s?e(...s):e()}catch(r){lr(r,t,n)}}function vt(e,t,n,s){if(Q(e)){const r=ds(e,t,n,s);return r&&za(r)&&r.catch(i=>{lr(i,t,n)}),r}if(K(e)){const r=[];for(let i=0;i<e.length;i++)r.push(vt(e[i],t,n,s));return r}}function lr(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ae;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](e,l,c)===!1)return}a=a.parent}if(i){Vt(),ds(i,null,10,[e,l,c]),qt();return}}yf(e,n,r,s,o)}function yf(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const ke=[];let pt=-1;const vn=[];let Lt=null,hn=0;const xl=Promise.resolve();let qs=null;function Ui(e){const t=qs||xl;return e?t.then(this?e.bind(this):e):t}function wf(e){let t=pt+1,n=ke.length;for(;t<n;){const s=t+n>>>1,r=ke[s],i=rs(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function Hi(e){if(!(e.flags&1)){const t=rs(e),n=ke[ke.length-1];!n||!(e.flags&2)&&t>=rs(n)?ke.push(e):ke.splice(wf(t),0,e),e.flags|=1,Sl()}}function Sl(){qs||(qs=xl.then(Rl))}function bf(e){K(e)?vn.push(...e):Lt&&e.id===-1?Lt.splice(hn+1,0,e):e.flags&1||(vn.push(e),e.flags|=1),Sl()}function $o(e,t,n=pt+1){for(;n<ke.length;n++){const s=ke[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;ke.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Cl(e){if(vn.length){const t=[...new Set(vn)].sort((n,s)=>rs(n)-rs(s));if(vn.length=0,Lt){Lt.push(...t);return}for(Lt=t,hn=0;hn<Lt.length;hn++){const n=Lt[hn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Lt=null,hn=0}}const rs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Rl(e){try{for(pt=0;pt<ke.length;pt++){const t=ke[pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ds(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pt<ke.length;pt++){const t=ke[pt];t&&(t.flags&=-2)}pt=-1,ke.length=0,Cl(),qs=null,(ke.length||vn.length)&&Rl()}}let je=null,Al=null;function Ks(e){const t=je;return je=e,Al=e&&e.type.__scopeId||null,t}function Wi(e,t=je,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Ho(-1);const i=Ks(t);let o;try{o=e(...r)}finally{Ks(i),s._d&&Ho(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Tr(e,t){if(je===null)return e;const n=dr(je),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=ae]=t[r];i&&(Q(i)&&(i={mounted:i,updated:i}),i.deep&&It(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Jt(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Vt(),vt(l,n,8,[e.el,a,e,t]),qt())}}const vf=Symbol("_vte"),xf=e=>e.__isTeleport;function Vi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function El(e,t){return Q(e)?Me({name:e.name},t,{setup:e}):e}function Pl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Js(e,t,n,s,r=!1){if(K(e)){e.forEach((y,_)=>Js(y,t&&(K(t)?t[_]:t),n,s,r));return}if(Jn(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Js(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?dr(s.component):s.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,f=a.refs===ae?a.refs={}:a.refs,u=a.setupState,p=ee(u),m=u===ae?()=>!1:y=>se(p,y);if(c!=null&&c!==l&&(ge(c)?(f[c]=null,m(c)&&(u[c]=null)):pe(c)&&(c.value=null)),Q(l))ds(l,a,12,[o,f]);else{const y=ge(l),_=pe(l);if(y||_){const C=()=>{if(e.f){const $=y?m(l)?u[l]:f[l]:l.value;r?K($)&&Ii($,i):K($)?$.includes(i)||$.push(i):y?(f[l]=[i],m(l)&&(u[l]=f[l])):(l.value=[i],e.k&&(f[e.k]=l.value))}else y?(f[l]=o,m(l)&&(u[l]=o)):_&&(l.value=o,e.k&&(f[e.k]=o))};o?(C.id=-1,Ke(C,n)):C()}}}ir().requestIdleCallback;ir().cancelIdleCallback;const Jn=e=>!!e.type.__asyncLoader,Ol=e=>e.type.__isKeepAlive;function Sf(e,t){Il(e,"a",t)}function Cf(e,t){Il(e,"da",t)}function Il(e,t,n=Re){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(cr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Ol(r.parent.vnode)&&Rf(s,t,n,r),r=r.parent}}function Rf(e,t,n,s){const r=cr(t,e,s,!0);Tl(()=>{Ii(s[t],r)},n)}function cr(e,t,n=Re,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Vt();const a=hs(n),l=vt(t,n,e,o);return a(),qt(),l});return s?r.unshift(i):r.push(i),i}}const Tt=e=>(t,n=Re)=>{(!os||e==="sp")&&cr(e,(...s)=>t(...s),n)},Af=Tt("bm"),qi=Tt("m"),Ef=Tt("bu"),Pf=Tt("u"),Of=Tt("bum"),Tl=Tt("um"),If=Tt("sp"),Tf=Tt("rtg"),$f=Tt("rtc");function Mf(e,t=Re){cr("ec",e,t)}const Ff="components";function Ki(e,t){return kf(Ff,e,!0,t)||e}const Nf=Symbol.for("v-ndc");function kf(e,t,n=!0,s=!1){const r=je||Re;if(r){const i=r.type;{const a=Rd(i,!1);if(a&&(a===t||a===Ze(t)||a===rr(Ze(t))))return i}const o=Mo(r[e]||i[e],t)||Mo(r.appContext[e],t);return!o&&s?i:o}}function Mo(e,t){return e&&(e[t]||e[Ze(t)]||e[rr(Ze(t))])}function Df(e,t,n,s){let r;const i=n,o=K(e);if(o||ge(e)){const a=o&&Ht(e);let l=!1;a&&(l=!Ye(e),e=ar(e)),r=new Array(e.length);for(let c=0,f=e.length;c<f;c++)r[c]=t(l?Ie(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(de(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];r[l]=t(e[f],f,l,i)}}else r=[];return r}const ri=e=>e?Zl(e)?dr(e):ri(e.parent):null,zn=Me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ri(e.parent),$root:e=>ri(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ml(e),$forceUpdate:e=>e.f||(e.f=()=>{Hi(e.update)}),$nextTick:e=>e.n||(e.n=Ui.bind(e.proxy)),$watch:e=>id.bind(e)}),$r=(e,t)=>e!==ae&&!e.__isScriptSetup&&se(e,t),Lf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if($r(s,t))return o[t]=1,s[t];if(r!==ae&&se(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&se(c,t))return o[t]=3,i[t];if(n!==ae&&se(n,t))return o[t]=4,n[t];ii&&(o[t]=0)}}const f=zn[t];let u,p;if(f)return t==="$attrs"&&Oe(e.attrs,"get",""),f(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==ae&&se(n,t))return o[t]=4,n[t];if(p=l.config.globalProperties,se(p,t))return p[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return $r(r,t)?(r[t]=n,!0):s!==ae&&se(s,t)?(s[t]=n,!0):se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==ae&&se(e,o)||$r(t,o)||(a=i[0])&&se(a,o)||se(s,o)||se(zn,o)||se(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Fo(e){return K(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ii=!0;function Bf(e){const t=Ml(e),n=e.proxy,s=e.ctx;ii=!1,t.beforeCreate&&No(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:u,mounted:p,beforeUpdate:m,updated:y,activated:_,deactivated:C,beforeDestroy:$,beforeUnmount:w,destroyed:E,unmounted:R,render:k,renderTracked:U,renderTriggered:N,errorCaptured:H,serverPrefetch:D,expose:q,inheritAttrs:z,components:me,directives:we,filters:xt}=t;if(c&&jf(c,s,null),o)for(const X in o){const te=o[X];Q(te)&&(s[X]=te.bind(n))}if(r){const X=r.call(n,n);de(X)&&(e.data=fs(X))}if(ii=!0,i)for(const X in i){const te=i[X],St=Q(te)?te.bind(n,n):Q(te.get)?te.get.bind(n,n):bt,$t=!Q(te)&&Q(te.set)?te.set.bind(n):bt,lt=Te({get:St,set:$t});Object.defineProperty(s,X,{enumerable:!0,configurable:!0,get:()=>lt.value,set:De=>lt.value=De})}if(a)for(const X in a)$l(a[X],s,n,X);if(l){const X=Q(l)?l.call(n):l;Reflect.ownKeys(X).forEach(te=>{Fs(te,X[te])})}f&&No(f,e,"c");function fe(X,te){K(te)?te.forEach(St=>X(St.bind(n))):te&&X(te.bind(n))}if(fe(Af,u),fe(qi,p),fe(Ef,m),fe(Pf,y),fe(Sf,_),fe(Cf,C),fe(Mf,H),fe($f,U),fe(Tf,N),fe(Of,w),fe(Tl,R),fe(If,D),K(q))if(q.length){const X=e.exposed||(e.exposed={});q.forEach(te=>{Object.defineProperty(X,te,{get:()=>n[te],set:St=>n[te]=St})})}else e.exposed||(e.exposed={});k&&e.render===bt&&(e.render=k),z!=null&&(e.inheritAttrs=z),me&&(e.components=me),we&&(e.directives=we),D&&Pl(e)}function jf(e,t,n=bt){K(e)&&(e=oi(e));for(const s in e){const r=e[s];let i;de(r)?"default"in r?i=ot(r.from||s,r.default,!0):i=ot(r.from||s):i=ot(r),pe(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function No(e,t,n){vt(K(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function $l(e,t,n,s){let r=s.includes(".")?Jl(n,s):()=>n[s];if(ge(e)){const i=t[e];Q(i)&&Qn(r,i)}else if(Q(e))Qn(r,e.bind(n));else if(de(e))if(K(e))e.forEach(i=>$l(i,t,n,s));else{const i=Q(e.handler)?e.handler.bind(n):t[e.handler];Q(i)&&Qn(r,i,e)}}function Ml(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>zs(l,c,o,!0)),zs(l,t,o)),de(t)&&i.set(t,l),l}function zs(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&zs(e,i,n,!0),r&&r.forEach(o=>zs(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=Uf[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Uf={data:ko,props:Do,emits:Do,methods:Dn,computed:Dn,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:Dn,directives:Dn,watch:Wf,provide:ko,inject:Hf};function ko(e,t){return t?e?function(){return Me(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function Hf(e,t){return Dn(oi(e),oi(t))}function oi(e){if(K(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Fe(e,t){return e?[...new Set([].concat(e,t))]:t}function Dn(e,t){return e?Me(Object.create(null),e,t):t}function Do(e,t){return e?K(e)&&K(t)?[...new Set([...e,...t])]:Me(Object.create(null),Fo(e),Fo(t??{})):t}function Wf(e,t){if(!e)return t;if(!t)return e;const n=Me(Object.create(null),e);for(const s in t)n[s]=Fe(e[s],t[s]);return n}function Fl(){return{app:null,config:{isNativeTag:Iu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vf=0;function qf(e,t){return function(s,r=null){Q(s)||(s=Me({},s)),r!=null&&!de(r)&&(r=null);const i=Fl(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Vf++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Ed,get config(){return i.config},set config(f){},use(f,...u){return o.has(f)||(f&&Q(f.install)?(o.add(f),f.install(c,...u)):Q(f)&&(o.add(f),f(c,...u))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,u){return u?(i.components[f]=u,c):i.components[f]},directive(f,u){return u?(i.directives[f]=u,c):i.directives[f]},mount(f,u,p){if(!l){const m=c._ceVNode||$e(s,r);return m.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),e(m,f,p),l=!0,c._container=f,f.__vue_app__=c,dr(m.component)}},onUnmount(f){a.push(f)},unmount(){l&&(vt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,u){return i.provides[f]=u,c},runWithContext(f){const u=en;en=c;try{return f()}finally{en=u}}};return c}}let en=null;function Fs(e,t){if(Re){let n=Re.provides;const s=Re.parent&&Re.parent.provides;s===n&&(n=Re.provides=Object.create(s)),n[e]=t}}function ot(e,t,n=!1){const s=Re||je;if(s||en){const r=en?en._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Q(t)?t.call(s&&s.proxy):t}}function Kf(){return!!(Re||je||en)}const Nl={},kl=()=>Object.create(Nl),Dl=e=>Object.getPrototypeOf(e)===Nl;function Jf(e,t,n,s=!1){const r={},i=kl();e.propsDefaults=Object.create(null),Ll(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:yl(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function zf(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=ee(r),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let p=f[u];if(ur(e.emitsOptions,p))continue;const m=t[p];if(l)if(se(i,p))m!==i[p]&&(i[p]=m,c=!0);else{const y=Ze(p);r[y]=ai(l,a,y,m,e,!1)}else m!==i[p]&&(i[p]=m,c=!0)}}}else{Ll(e,t,r,i)&&(c=!0);let f;for(const u in a)(!t||!se(t,u)&&((f=sn(u))===u||!se(t,f)))&&(l?n&&(n[u]!==void 0||n[f]!==void 0)&&(r[u]=ai(l,a,u,void 0,e,!0)):delete r[u]);if(i!==a)for(const u in i)(!t||!se(t,u))&&(delete i[u],c=!0)}c&&Ot(e.attrs,"set","")}function Ll(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Vn(l))continue;const c=t[l];let f;r&&se(r,f=Ze(l))?!i||!i.includes(f)?n[f]=c:(a||(a={}))[f]=c:ur(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=ee(n),c=a||ae;for(let f=0;f<i.length;f++){const u=i[f];n[u]=ai(r,l,u,c[u],e,!se(c,u))}}return o}function ai(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Q(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const f=hs(r);s=c[n]=l.call(null,t),f()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===sn(n))&&(s=!0))}return s}const Qf=new WeakMap;function Bl(e,t,n=!1){const s=n?Qf:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!Q(e)){const f=u=>{l=!0;const[p,m]=Bl(u,t,!0);Me(o,p),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!l)return de(e)&&s.set(e,wn),wn;if(K(i))for(let f=0;f<i.length;f++){const u=Ze(i[f]);Lo(u)&&(o[u]=ae)}else if(i)for(const f in i){const u=Ze(f);if(Lo(u)){const p=i[f],m=o[u]=K(p)||Q(p)?{type:p}:Me({},p),y=m.type;let _=!1,C=!0;if(K(y))for(let $=0;$<y.length;++$){const w=y[$],E=Q(w)&&w.name;if(E==="Boolean"){_=!0;break}else E==="String"&&(C=!1)}else _=Q(y)&&y.name==="Boolean";m[0]=_,m[1]=C,(_||se(m,"default"))&&a.push(u)}}const c=[o,a];return de(e)&&s.set(e,c),c}function Lo(e){return e[0]!=="$"&&!Vn(e)}const jl=e=>e[0]==="_"||e==="$stable",Ji=e=>K(e)?e.map(yt):[yt(e)],Xf=(e,t,n)=>{if(t._n)return t;const s=Wi((...r)=>Ji(t(...r)),n);return s._c=!1,s},Ul=(e,t,n)=>{const s=e._ctx;for(const r in e){if(jl(r))continue;const i=e[r];if(Q(i))t[r]=Xf(r,i,s);else if(i!=null){const o=Ji(i);t[r]=()=>o}}},Hl=(e,t)=>{const n=Ji(t);e.slots.default=()=>n},Wl=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},Gf=(e,t,n)=>{const s=e.slots=kl();if(e.vnode.shapeFlag&32){const r=t._;r?(Wl(s,t,n),n&&Ga(s,"_",r,!0)):Ul(t,s)}else t&&Hl(e,t)},Yf=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=ae;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:Wl(r,t,n):(i=!t.$stable,Ul(t,r)),o=t}else t&&(Hl(e,t),o={default:1});if(i)for(const a in r)!jl(a)&&o[a]==null&&delete r[a]},Ke=dd;function Zf(e){return ed(e)}function ed(e,t){const n=ir();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:u,nextSibling:p,setScopeId:m=bt,insertStaticContent:y}=e,_=(d,h,g,b=null,S=null,x=null,I=void 0,O=null,P=!!h.dynamicChildren)=>{if(d===h)return;d&&!Nn(d,h)&&(b=v(d),De(d,S,x,!0),d=null),h.patchFlag===-2&&(P=!1,h.dynamicChildren=null);const{type:A,ref:W,shapeFlag:M}=h;switch(A){case fr:C(d,h,g,b);break;case nn:$(d,h,g,b);break;case Fr:d==null&&w(h,g,b,I);break;case _t:me(d,h,g,b,S,x,I,O,P);break;default:M&1?k(d,h,g,b,S,x,I,O,P):M&6?we(d,h,g,b,S,x,I,O,P):(M&64||M&128)&&A.process(d,h,g,b,S,x,I,O,P,L)}W!=null&&S&&Js(W,d&&d.ref,x,h||d,!h)},C=(d,h,g,b)=>{if(d==null)s(h.el=a(h.children),g,b);else{const S=h.el=d.el;h.children!==d.children&&c(S,h.children)}},$=(d,h,g,b)=>{d==null?s(h.el=l(h.children||""),g,b):h.el=d.el},w=(d,h,g,b)=>{[d.el,d.anchor]=y(d.children,h,g,b,d.el,d.anchor)},E=({el:d,anchor:h},g,b)=>{let S;for(;d&&d!==h;)S=p(d),s(d,g,b),d=S;s(h,g,b)},R=({el:d,anchor:h})=>{let g;for(;d&&d!==h;)g=p(d),r(d),d=g;r(h)},k=(d,h,g,b,S,x,I,O,P)=>{h.type==="svg"?I="svg":h.type==="math"&&(I="mathml"),d==null?U(h,g,b,S,x,I,O,P):D(d,h,S,x,I,O,P)},U=(d,h,g,b,S,x,I,O)=>{let P,A;const{props:W,shapeFlag:M,transition:j,dirs:J}=d;if(P=d.el=o(d.type,x,W&&W.is,W),M&8?f(P,d.children):M&16&&H(d.children,P,null,b,S,Mr(d,x),I,O),J&&Jt(d,null,b,"created"),N(P,d,d.scopeId,I,b),W){for(const le in W)le!=="value"&&!Vn(le)&&i(P,le,null,W[le],x,b);"value"in W&&i(P,"value",null,W.value,x),(A=W.onVnodeBeforeMount)&&dt(A,b,d)}J&&Jt(d,null,b,"beforeMount");const Y=td(S,j);Y&&j.beforeEnter(P),s(P,h,g),((A=W&&W.onVnodeMounted)||Y||J)&&Ke(()=>{A&&dt(A,b,d),Y&&j.enter(P),J&&Jt(d,null,b,"mounted")},S)},N=(d,h,g,b,S)=>{if(g&&m(d,g),b)for(let x=0;x<b.length;x++)m(d,b[x]);if(S){let x=S.subTree;if(h===x||Ql(x.type)&&(x.ssContent===h||x.ssFallback===h)){const I=S.vnode;N(d,I,I.scopeId,I.slotScopeIds,S.parent)}}},H=(d,h,g,b,S,x,I,O,P=0)=>{for(let A=P;A<d.length;A++){const W=d[A]=O?Bt(d[A]):yt(d[A]);_(null,W,h,g,b,S,x,I,O)}},D=(d,h,g,b,S,x,I)=>{const O=h.el=d.el;let{patchFlag:P,dynamicChildren:A,dirs:W}=h;P|=d.patchFlag&16;const M=d.props||ae,j=h.props||ae;let J;if(g&&zt(g,!1),(J=j.onVnodeBeforeUpdate)&&dt(J,g,h,d),W&&Jt(h,d,g,"beforeUpdate"),g&&zt(g,!0),(M.innerHTML&&j.innerHTML==null||M.textContent&&j.textContent==null)&&f(O,""),A?q(d.dynamicChildren,A,O,g,b,Mr(h,S),x):I||te(d,h,O,null,g,b,Mr(h,S),x,!1),P>0){if(P&16)z(O,M,j,g,S);else if(P&2&&M.class!==j.class&&i(O,"class",null,j.class,S),P&4&&i(O,"style",M.style,j.style,S),P&8){const Y=h.dynamicProps;for(let le=0;le<Y.length;le++){const re=Y[le],He=M[re],Le=j[re];(Le!==He||re==="value")&&i(O,re,He,Le,S,g)}}P&1&&d.children!==h.children&&f(O,h.children)}else!I&&A==null&&z(O,M,j,g,S);((J=j.onVnodeUpdated)||W)&&Ke(()=>{J&&dt(J,g,h,d),W&&Jt(h,d,g,"updated")},b)},q=(d,h,g,b,S,x,I)=>{for(let O=0;O<h.length;O++){const P=d[O],A=h[O],W=P.el&&(P.type===_t||!Nn(P,A)||P.shapeFlag&70)?u(P.el):g;_(P,A,W,null,b,S,x,I,!0)}},z=(d,h,g,b,S)=>{if(h!==g){if(h!==ae)for(const x in h)!Vn(x)&&!(x in g)&&i(d,x,h[x],null,S,b);for(const x in g){if(Vn(x))continue;const I=g[x],O=h[x];I!==O&&x!=="value"&&i(d,x,O,I,S,b)}"value"in g&&i(d,"value",h.value,g.value,S)}},me=(d,h,g,b,S,x,I,O,P)=>{const A=h.el=d?d.el:a(""),W=h.anchor=d?d.anchor:a("");let{patchFlag:M,dynamicChildren:j,slotScopeIds:J}=h;J&&(O=O?O.concat(J):J),d==null?(s(A,g,b),s(W,g,b),H(h.children||[],g,W,S,x,I,O,P)):M>0&&M&64&&j&&d.dynamicChildren?(q(d.dynamicChildren,j,g,S,x,I,O),(h.key!=null||S&&h===S.subTree)&&Vl(d,h,!0)):te(d,h,g,W,S,x,I,O,P)},we=(d,h,g,b,S,x,I,O,P)=>{h.slotScopeIds=O,d==null?h.shapeFlag&512?S.ctx.activate(h,g,b,I,P):xt(h,g,b,S,x,I,P):et(d,h,P)},xt=(d,h,g,b,S,x,I)=>{const O=d.component=bd(d,b,S);if(Ol(d)&&(O.ctx.renderer=L),vd(O,!1,I),O.asyncDep){if(S&&S.registerDep(O,fe,I),!d.el){const P=O.subTree=$e(nn);$(null,P,h,g)}}else fe(O,d,h,g,S,x,I)},et=(d,h,g)=>{const b=h.component=d.component;if(ud(d,h,g))if(b.asyncDep&&!b.asyncResolved){X(b,h,g);return}else b.next=h,b.update();else h.el=d.el,b.vnode=h},fe=(d,h,g,b,S,x,I)=>{const O=()=>{if(d.isMounted){let{next:M,bu:j,u:J,parent:Y,vnode:le}=d;{const ut=ql(d);if(ut){M&&(M.el=le.el,X(d,M,I)),ut.asyncDep.then(()=>{d.isUnmounted||O()});return}}let re=M,He;zt(d,!1),M?(M.el=le.el,X(d,M,I)):M=le,j&&Ms(j),(He=M.props&&M.props.onVnodeBeforeUpdate)&&dt(He,Y,M,le),zt(d,!0);const Le=jo(d),ct=d.subTree;d.subTree=Le,_(ct,Le,u(ct.el),v(ct),d,S,x),M.el=Le.el,re===null&&fd(d,Le.el),J&&Ke(J,S),(He=M.props&&M.props.onVnodeUpdated)&&Ke(()=>dt(He,Y,M,le),S)}else{let M;const{el:j,props:J}=h,{bm:Y,m:le,parent:re,root:He,type:Le}=d,ct=Jn(h);zt(d,!1),Y&&Ms(Y),!ct&&(M=J&&J.onVnodeBeforeMount)&&dt(M,re,h),zt(d,!0);{He.ce&&He.ce._injectChildStyle(Le);const ut=d.subTree=jo(d);_(null,ut,g,b,d,S,x),h.el=ut.el}if(le&&Ke(le,S),!ct&&(M=J&&J.onVnodeMounted)){const ut=h;Ke(()=>dt(M,re,ut),S)}(h.shapeFlag&256||re&&Jn(re.vnode)&&re.vnode.shapeFlag&256)&&d.a&&Ke(d.a,S),d.isMounted=!0,h=g=b=null}};d.scope.on();const P=d.effect=new rl(O);d.scope.off();const A=d.update=P.run.bind(P),W=d.job=P.runIfDirty.bind(P);W.i=d,W.id=d.uid,P.scheduler=()=>Hi(W),zt(d,!0),A()},X=(d,h,g)=>{h.component=d;const b=d.vnode.props;d.vnode=h,d.next=null,zf(d,h.props,b,g),Yf(d,h.children,g),Vt(),$o(d),qt()},te=(d,h,g,b,S,x,I,O,P=!1)=>{const A=d&&d.children,W=d?d.shapeFlag:0,M=h.children,{patchFlag:j,shapeFlag:J}=h;if(j>0){if(j&128){$t(A,M,g,b,S,x,I,O,P);return}else if(j&256){St(A,M,g,b,S,x,I,O,P);return}}J&8?(W&16&&Xe(A,S,x),M!==A&&f(g,M)):W&16?J&16?$t(A,M,g,b,S,x,I,O,P):Xe(A,S,x,!0):(W&8&&f(g,""),J&16&&H(M,g,b,S,x,I,O,P))},St=(d,h,g,b,S,x,I,O,P)=>{d=d||wn,h=h||wn;const A=d.length,W=h.length,M=Math.min(A,W);let j;for(j=0;j<M;j++){const J=h[j]=P?Bt(h[j]):yt(h[j]);_(d[j],J,g,null,S,x,I,O,P)}A>W?Xe(d,S,x,!0,!1,M):H(h,g,b,S,x,I,O,P,M)},$t=(d,h,g,b,S,x,I,O,P)=>{let A=0;const W=h.length;let M=d.length-1,j=W-1;for(;A<=M&&A<=j;){const J=d[A],Y=h[A]=P?Bt(h[A]):yt(h[A]);if(Nn(J,Y))_(J,Y,g,null,S,x,I,O,P);else break;A++}for(;A<=M&&A<=j;){const J=d[M],Y=h[j]=P?Bt(h[j]):yt(h[j]);if(Nn(J,Y))_(J,Y,g,null,S,x,I,O,P);else break;M--,j--}if(A>M){if(A<=j){const J=j+1,Y=J<W?h[J].el:b;for(;A<=j;)_(null,h[A]=P?Bt(h[A]):yt(h[A]),g,Y,S,x,I,O,P),A++}}else if(A>j)for(;A<=M;)De(d[A],S,x,!0),A++;else{const J=A,Y=A,le=new Map;for(A=Y;A<=j;A++){const We=h[A]=P?Bt(h[A]):yt(h[A]);We.key!=null&&le.set(We.key,A)}let re,He=0;const Le=j-Y+1;let ct=!1,ut=0;const Mn=new Array(Le);for(A=0;A<Le;A++)Mn[A]=0;for(A=J;A<=M;A++){const We=d[A];if(He>=Le){De(We,S,x,!0);continue}let ft;if(We.key!=null)ft=le.get(We.key);else for(re=Y;re<=j;re++)if(Mn[re-Y]===0&&Nn(We,h[re])){ft=re;break}ft===void 0?De(We,S,x,!0):(Mn[ft-Y]=A+1,ft>=ut?ut=ft:ct=!0,_(We,h[ft],g,null,S,x,I,O,P),He++)}const Eo=ct?nd(Mn):wn;for(re=Eo.length-1,A=Le-1;A>=0;A--){const We=Y+A,ft=h[We],Po=We+1<W?h[We+1].el:b;Mn[A]===0?_(null,ft,g,Po,S,x,I,O,P):ct&&(re<0||A!==Eo[re]?lt(ft,g,Po,2):re--)}}},lt=(d,h,g,b,S=null)=>{const{el:x,type:I,transition:O,children:P,shapeFlag:A}=d;if(A&6){lt(d.component.subTree,h,g,b);return}if(A&128){d.suspense.move(h,g,b);return}if(A&64){I.move(d,h,g,L);return}if(I===_t){s(x,h,g);for(let M=0;M<P.length;M++)lt(P[M],h,g,b);s(d.anchor,h,g);return}if(I===Fr){E(d,h,g);return}if(b!==2&&A&1&&O)if(b===0)O.beforeEnter(x),s(x,h,g),Ke(()=>O.enter(x),S);else{const{leave:M,delayLeave:j,afterLeave:J}=O,Y=()=>s(x,h,g),le=()=>{M(x,()=>{Y(),J&&J()})};j?j(x,Y,le):le()}else s(x,h,g)},De=(d,h,g,b=!1,S=!1)=>{const{type:x,props:I,ref:O,children:P,dynamicChildren:A,shapeFlag:W,patchFlag:M,dirs:j,cacheIndex:J}=d;if(M===-2&&(S=!1),O!=null&&Js(O,null,g,d,!0),J!=null&&(h.renderCache[J]=void 0),W&256){h.ctx.deactivate(d);return}const Y=W&1&&j,le=!Jn(d);let re;if(le&&(re=I&&I.onVnodeBeforeUnmount)&&dt(re,h,d),W&6)ws(d.component,g,b);else{if(W&128){d.suspense.unmount(g,b);return}Y&&Jt(d,null,h,"beforeUnmount"),W&64?d.type.remove(d,h,g,L,b):A&&!A.hasOnce&&(x!==_t||M>0&&M&64)?Xe(A,h,g,!1,!0):(x===_t&&M&384||!S&&W&16)&&Xe(P,h,g),b&&rn(d)}(le&&(re=I&&I.onVnodeUnmounted)||Y)&&Ke(()=>{re&&dt(re,h,d),Y&&Jt(d,null,h,"unmounted")},g)},rn=d=>{const{type:h,el:g,anchor:b,transition:S}=d;if(h===_t){on(g,b);return}if(h===Fr){R(d);return}const x=()=>{r(g),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(d.shapeFlag&1&&S&&!S.persisted){const{leave:I,delayLeave:O}=S,P=()=>I(g,x);O?O(d.el,x,P):P()}else x()},on=(d,h)=>{let g;for(;d!==h;)g=p(d),r(d),d=g;r(h)},ws=(d,h,g)=>{const{bum:b,scope:S,job:x,subTree:I,um:O,m:P,a:A}=d;Bo(P),Bo(A),b&&Ms(b),S.stop(),x&&(x.flags|=8,De(I,d,h,g)),O&&Ke(O,h),Ke(()=>{d.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Xe=(d,h,g,b=!1,S=!1,x=0)=>{for(let I=x;I<d.length;I++)De(d[I],h,g,b,S)},v=d=>{if(d.shapeFlag&6)return v(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const h=p(d.anchor||d.el),g=h&&h[vf];return g?p(g):h};let F=!1;const T=(d,h,g)=>{d==null?h._vnode&&De(h._vnode,null,null,!0):_(h._vnode||null,d,h,null,null,null,g),h._vnode=d,F||(F=!0,$o(),Cl(),F=!1)},L={p:_,um:De,m:lt,r:rn,mt:xt,mc:H,pc:te,pbc:q,n:v,o:e};return{render:T,hydrate:void 0,createApp:qf(T)}}function Mr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function zt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function td(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Vl(e,t,n=!1){const s=e.children,r=t.children;if(K(s)&&K(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Bt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Vl(o,a)),a.type===fr&&(a.el=o.el)}}function nd(e){const t=e.slice(),n=[0];let s,r,i,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function ql(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ql(t)}function Bo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const sd=Symbol.for("v-scx"),rd=()=>ot(sd);function Qn(e,t,n){return Kl(e,t,n)}function Kl(e,t,n=ae){const{immediate:s,deep:r,flush:i,once:o}=n,a=Me({},n),l=t&&s||!t&&i!=="post";let c;if(os){if(i==="sync"){const m=rd();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=bt,m.resume=bt,m.pause=bt,m}}const f=Re;a.call=(m,y,_)=>vt(m,f,y,_);let u=!1;i==="post"?a.scheduler=m=>{Ke(m,f&&f.suspense)}:i!=="sync"&&(u=!0,a.scheduler=(m,y)=>{y?m():Hi(m)}),a.augmentJob=m=>{t&&(m.flags|=4),u&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const p=_f(e,t,a);return os&&(c?c.push(p):l&&p()),p}function id(e,t,n){const s=this.proxy,r=ge(e)?e.includes(".")?Jl(s,e):()=>s[e]:e.bind(s,s);let i;Q(t)?i=t:(i=t.handler,n=t);const o=hs(this),a=Kl(r,i.bind(s),n);return o(),a}function Jl(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const od=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ze(t)}Modifiers`]||e[`${sn(t)}Modifiers`];function ad(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ae;let r=n;const i=t.startsWith("update:"),o=i&&od(s,t.slice(7));o&&(o.trim&&(r=n.map(f=>ge(f)?f.trim():f)),o.number&&(r=n.map(Zr)));let a,l=s[a=Ar(t)]||s[a=Ar(Ze(t))];!l&&i&&(l=s[a=Ar(sn(t))]),l&&vt(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vt(c,e,6,r)}}function zl(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Q(e)){const l=c=>{const f=zl(c,t,!0);f&&(a=!0,Me(o,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(de(e)&&s.set(e,null),null):(K(i)?i.forEach(l=>o[l]=null):Me(o,i),de(e)&&s.set(e,o),o)}function ur(e,t){return!e||!tr(t)?!1:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,sn(t))||se(e,t))}function jo(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:u,data:p,setupState:m,ctx:y,inheritAttrs:_}=e,C=Ks(e);let $,w;try{if(n.shapeFlag&4){const R=r||s,k=R;$=yt(c.call(k,R,f,u,m,p,y)),w=a}else{const R=t;$=yt(R.length>1?R(u,{attrs:a,slots:o,emit:l}):R(u,null)),w=t.props?a:ld(a)}}catch(R){Xn.length=0,lr(R,e,1),$=$e(nn)}let E=$;if(w&&_!==!1){const R=Object.keys(w),{shapeFlag:k}=E;R.length&&k&7&&(i&&R.some(Oi)&&(w=cd(w,i)),E=An(E,w,!1,!0))}return n.dirs&&(E=An(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Vi(E,n.transition),$=E,Ks(C),$}const ld=e=>{let t;for(const n in e)(n==="class"||n==="style"||tr(n))&&((t||(t={}))[n]=e[n]);return t},cd=(e,t)=>{const n={};for(const s in e)(!Oi(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function ud(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Uo(s,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const p=f[u];if(o[p]!==s[p]&&!ur(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Uo(s,o,c):!0:!!o;return!1}function Uo(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!ur(n,i))return!0}return!1}function fd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ql=e=>e.__isSuspense;function dd(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):bf(e)}const _t=Symbol.for("v-fgt"),fr=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),Fr=Symbol.for("v-stc"),Xn=[];let ze=null;function Se(e=!1){Xn.push(ze=e?null:[])}function hd(){Xn.pop(),ze=Xn[Xn.length-1]||null}let is=1;function Ho(e,t=!1){is+=e,e<0&&ze&&t&&(ze.hasOnce=!0)}function Xl(e){return e.dynamicChildren=is>0?ze||wn:null,hd(),is>0&&ze&&ze.push(e),e}function Pe(e,t,n,s,r,i){return Xl(ue(e,t,n,s,r,i,!0))}function pd(e,t,n,s,r){return Xl($e(e,t,n,s,r,!0))}function Qs(e){return e?e.__v_isVNode===!0:!1}function Nn(e,t){return e.type===t.type&&e.key===t.key}const Gl=({key:e})=>e??null,Ns=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ge(e)||pe(e)||Q(e)?{i:je,r:e,k:t,f:!!n}:e:null);function ue(e,t=null,n=null,s=0,r=null,i=e===_t?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gl(t),ref:t&&Ns(t),scopeId:Al,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:je};return a?(zi(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=ge(n)?8:16),is>0&&!o&&ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ze.push(l),l}const $e=md;function md(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Nf)&&(e=nn),Qs(e)){const a=An(e,t,!0);return n&&zi(a,n),is>0&&!i&&ze&&(a.shapeFlag&6?ze[ze.indexOf(e)]=a:ze.push(a)),a.patchFlag=-2,a}if(Ad(e)&&(e=e.__vccOpts),t){t=gd(t);let{class:a,style:l}=t;a&&!ge(a)&&(t.class=or(a)),de(l)&&(Bi(l)&&!K(l)&&(l=Me({},l)),t.style=$i(l))}const o=ge(e)?1:Ql(e)?128:xf(e)?64:de(e)?4:Q(e)?2:0;return ue(e,t,n,s,r,o,i,!0)}function gd(e){return e?Bi(e)||Dl(e)?Me({},e):e:null}function An(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?_d(r||{},t):r,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Gl(c),ref:t&&t.ref?n&&i?K(i)?i.concat(Ns(t)):[i,Ns(t)]:Ns(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_t?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&An(e.ssContent),ssFallback:e.ssFallback&&An(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Vi(f,l.clone(f)),f}function Yl(e=" ",t=0){return $e(fr,null,e,t)}function Ss(e="",t=!1){return t?(Se(),pd(nn,null,e)):$e(nn,null,e)}function yt(e){return e==null||typeof e=="boolean"?$e(nn):K(e)?$e(_t,null,e.slice()):Qs(e)?Bt(e):$e(fr,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:An(e)}function zi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(K(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),zi(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Dl(t)?t._ctx=je:r===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:je},n=32):(t=String(t),s&64?(n=16,t=[Yl(t)]):n=8);e.children=t,e.shapeFlag|=n}function _d(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=or([t.class,s.class]));else if(r==="style")t.style=$i([t.style,s.style]);else if(tr(r)){const i=t[r],o=s[r];o&&i!==o&&!(K(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function dt(e,t,n,s=null){vt(e,t,7,[n,s])}const yd=Fl();let wd=0;function bd(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||yd,i={uid:wd++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bl(s,r),emitsOptions:zl(s,r),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:s.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ad.bind(null,i),e.ce&&e.ce(i),i}let Re=null,Xs,li;{const e=ir(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Xs=t("__VUE_INSTANCE_SETTERS__",n=>Re=n),li=t("__VUE_SSR_SETTERS__",n=>os=n)}const hs=e=>{const t=Re;return Xs(e),e.scope.on(),()=>{e.scope.off(),Xs(t)}},Wo=()=>{Re&&Re.scope.off(),Xs(null)};function Zl(e){return e.vnode.shapeFlag&4}let os=!1;function vd(e,t=!1,n=!1){t&&li(t);const{props:s,children:r}=e.vnode,i=Zl(e);Jf(e,s,i,t),Gf(e,r,n);const o=i?xd(e,t):void 0;return t&&li(!1),o}function xd(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Lf);const{setup:s}=n;if(s){Vt();const r=e.setupContext=s.length>1?Cd(e):null,i=hs(e),o=ds(s,e,0,[e.props,r]),a=za(o);if(qt(),i(),(a||e.sp)&&!Jn(e)&&Pl(e),a){if(o.then(Wo,Wo),t)return o.then(l=>{Vo(e,l)}).catch(l=>{lr(l,e,0)});e.asyncDep=o}else Vo(e,o)}else ec(e)}function Vo(e,t,n){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=vl(t)),ec(e)}function ec(e,t,n){const s=e.type;e.render||(e.render=s.render||bt);{const r=hs(e);Vt();try{Bf(e)}finally{qt(),r()}}}const Sd={get(e,t){return Oe(e,"get",""),e[t]}};function Cd(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Sd),slots:e.slots,emit:e.emit,expose:t}}function dr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(vl(ji(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zn)return zn[n](e)},has(t,n){return n in t||n in zn}})):e.proxy}function Rd(e,t=!0){return Q(e)?e.displayName||e.name:e.name||t&&e.__name}function Ad(e){return Q(e)&&"__vccOpts"in e}const Te=(e,t)=>mf(e,t,os);function tc(e,t,n){const s=arguments.length;return s===2?de(t)&&!K(t)?Qs(t)?$e(e,null,[t]):$e(e,t):$e(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Qs(n)&&(n=[n]),$e(e,t,n))}const Ed="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ci;const qo=typeof window<"u"&&window.trustedTypes;if(qo)try{ci=qo.createPolicy("vue",{createHTML:e=>e})}catch{}const nc=ci?e=>ci.createHTML(e):e=>e,Pd="http://www.w3.org/2000/svg",Od="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,Ko=Pt&&Pt.createElement("template"),Id={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Pt.createElementNS(Pd,e):t==="mathml"?Pt.createElementNS(Od,e):n?Pt.createElement(e,{is:n}):Pt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Ko.innerHTML=nc(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Ko.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Td=Symbol("_vtc");function $d(e,t,n){const s=e[Td];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Jo=Symbol("_vod"),Md=Symbol("_vsh"),Fd=Symbol(""),Nd=/(^|;)\s*display\s*:/;function kd(e,t,n){const s=e.style,r=ge(n);let i=!1;if(n&&!r){if(t)if(ge(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ks(s,a,"")}else for(const o in t)n[o]==null&&ks(s,o,"");for(const o in n)o==="display"&&(i=!0),ks(s,o,n[o])}else if(r){if(t!==n){const o=s[Fd];o&&(n+=";"+o),s.cssText=n,i=Nd.test(n)}}else t&&e.removeAttribute("style");Jo in e&&(e[Jo]=i?s.display:"",e[Md]&&(s.display="none"))}const zo=/\s*!important$/;function ks(e,t,n){if(K(n))n.forEach(s=>ks(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Dd(e,t);zo.test(n)?e.setProperty(sn(s),n.replace(zo,""),"important"):e[s]=n}}const Qo=["Webkit","Moz","ms"],Nr={};function Dd(e,t){const n=Nr[t];if(n)return n;let s=Ze(t);if(s!=="filter"&&s in e)return Nr[t]=s;s=rr(s);for(let r=0;r<Qo.length;r++){const i=Qo[r]+s;if(i in e)return Nr[t]=i}return t}const Xo="http://www.w3.org/1999/xlink";function Go(e,t,n,s,r,i=ju(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Xo,t.slice(6,t.length)):e.setAttributeNS(Xo,t,n):n==null||i&&!Ya(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Wt(n)?String(n):n)}function Yo(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?nc(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Ya(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function pn(e,t,n,s){e.addEventListener(t,n,s)}function Ld(e,t,n,s){e.removeEventListener(t,n,s)}const Zo=Symbol("_vei");function Bd(e,t,n,s,r=null){const i=e[Zo]||(e[Zo]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=jd(t);if(s){const c=i[t]=Wd(s,r);pn(e,a,c,l)}else o&&(Ld(e,a,o,l),i[t]=void 0)}}const ea=/(?:Once|Passive|Capture)$/;function jd(e){let t;if(ea.test(e)){t={};let s;for(;s=e.match(ea);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sn(e.slice(2)),t]}let kr=0;const Ud=Promise.resolve(),Hd=()=>kr||(Ud.then(()=>kr=0),kr=Date.now());function Wd(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;vt(Vd(s,n.value),t,5,[s])};return n.value=e,n.attached=Hd(),n}function Vd(e,t){if(K(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const ta=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,qd=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?$d(e,s,o):t==="style"?kd(e,n,s):tr(t)?Oi(t)||Bd(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kd(e,t,s,o))?(Yo(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Go(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ge(s))?Yo(e,Ze(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Go(e,t,s,o))};function Kd(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ta(t)&&Q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ta(t)&&ge(n)?!1:t in e}const na=e=>{const t=e.props["onUpdate:modelValue"]||!1;return K(t)?n=>Ms(t,n):t};function Jd(e){e.target.composing=!0}function sa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dr=Symbol("_assign"),Lr={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Dr]=na(r);const i=s||r.props&&r.props.type==="number";pn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Zr(a)),e[Dr](a)}),n&&pn(e,"change",()=>{e.value=e.value.trim()}),t||(pn(e,"compositionstart",Jd),pn(e,"compositionend",sa),pn(e,"change",sa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(e[Dr]=na(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Zr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},zd=["ctrl","shift","alt","meta"],Qd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zd.some(n=>e[`${n}Key`]&&!t.includes(n))},Xd=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<t.length;o++){const a=Qd[t[o]];if(a&&a(r,t))return}return e(r,...i)})},Gd=Me({patchProp:qd},Id);let ra;function Yd(){return ra||(ra=Zf(Gd))}const Zd=(...e)=>{const t=Yd().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=th(s);if(!r)return;const i=t._component;!Q(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,eh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function eh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function th(e){return ge(e)?document.querySelector(e):e}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sc;const hr=e=>sc=e,rc=Symbol();function ui(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Gn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Gn||(Gn={}));function nh(){const e=nl(!0),t=e.run(()=>ve({}));let n=[],s=[];const r=ji({install(i){hr(r),r._a=i,i.provide(rc,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const ic=()=>{};function ia(e,t,n,s=ic){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),s())};return!n&&sl()&&Uu(r),r}function ln(e,...t){e.slice().forEach(n=>{n(...t)})}const sh=e=>e(),oa=Symbol(),Br=Symbol();function fi(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];ui(r)&&ui(s)&&e.hasOwnProperty(n)&&!pe(s)&&!Ht(s)?e[n]=fi(r,s):e[n]=s}return e}const rh=Symbol();function ih(e){return!ui(e)||!e.hasOwnProperty(rh)}const{assign:Dt}=Object;function oh(e){return!!(pe(e)&&e.effect)}function ah(e,t,n,s){const{state:r,actions:i,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const f=ff(n.state.value[e]);return Dt(f,i,Object.keys(o||{}).reduce((u,p)=>(u[p]=ji(Te(()=>{hr(n);const m=n._s.get(e);return o[p].call(m,m)})),u),{}))}return l=oc(e,c,t,n,s,!0),l}function oc(e,t,n={},s,r,i){let o;const a=Dt({actions:{}},n),l={deep:!0};let c,f,u=[],p=[],m;const y=s.state.value[e];!i&&!y&&(s.state.value[e]={}),ve({});let _;function C(H){let D;c=f=!1,typeof H=="function"?(H(s.state.value[e]),D={type:Gn.patchFunction,storeId:e,events:m}):(fi(s.state.value[e],H),D={type:Gn.patchObject,payload:H,storeId:e,events:m});const q=_=Symbol();Ui().then(()=>{_===q&&(c=!0)}),f=!0,ln(u,D,s.state.value[e])}const $=i?function(){const{state:D}=n,q=D?D():{};this.$patch(z=>{Dt(z,q)})}:ic;function w(){o.stop(),u=[],p=[],s._s.delete(e)}const E=(H,D="")=>{if(oa in H)return H[Br]=D,H;const q=function(){hr(s);const z=Array.from(arguments),me=[],we=[];function xt(X){me.push(X)}function et(X){we.push(X)}ln(p,{args:z,name:q[Br],store:k,after:xt,onError:et});let fe;try{fe=H.apply(this&&this.$id===e?this:k,z)}catch(X){throw ln(we,X),X}return fe instanceof Promise?fe.then(X=>(ln(me,X),X)).catch(X=>(ln(we,X),Promise.reject(X))):(ln(me,fe),fe)};return q[oa]=!0,q[Br]=D,q},R={_p:s,$id:e,$onAction:ia.bind(null,p),$patch:C,$reset:$,$subscribe(H,D={}){const q=ia(u,H,D.detached,()=>z()),z=o.run(()=>Qn(()=>s.state.value[e],me=>{(D.flush==="sync"?f:c)&&H({storeId:e,type:Gn.direct,events:m},me)},Dt({},l,D)));return q},$dispose:w},k=fs(R);s._s.set(e,k);const N=(s._a&&s._a.runWithContext||sh)(()=>s._e.run(()=>(o=nl()).run(()=>t({action:E}))));for(const H in N){const D=N[H];if(pe(D)&&!oh(D)||Ht(D))i||(y&&ih(D)&&(pe(D)?D.value=y[H]:fi(D,y[H])),s.state.value[e][H]=D);else if(typeof D=="function"){const q=E(D,H);N[H]=q,a.actions[H]=D}}return Dt(k,N),Dt(ee(k),N),Object.defineProperty(k,"$state",{get:()=>s.state.value[e],set:H=>{C(D=>{Dt(D,H)})}}),s._p.forEach(H=>{Dt(k,o.run(()=>H({store:k,app:s._a,pinia:s,options:a})))}),y&&i&&n.hydrate&&n.hydrate(k.$state,y),c=!0,f=!0,k}/*! #__NO_SIDE_EFFECTS__ */function lh(e,t,n){let s;const r=typeof t=="function";s=r?n:t;function i(o,a){const l=Kf();return o=o||(l?ot(rc,null):null),o&&hr(o),o=sc,o._s.has(e)||(r?oc(e,t,s,o):ah(e,s,o)),o._s.get(e)}return i.$id=e,i}const pr=lh("quiz",()=>{const e=ve(localStorage.getItem("openai_api_key")||""),t=ve(""),n=ve(10),s=ve([]),r=ve([]),i=ve(null),o=ve(null),a=C=>{e.value=C,localStorage.setItem("openai_api_key",C)},l=()=>{e.value="",localStorage.removeItem("openai_api_key")},c=C=>{t.value=C},f=C=>{n.value=C},u=C=>{s.value=C},p=()=>{i.value=Date.now(),y()},m=()=>{o.value=Date.now()},y=()=>{s.value=[],r.value=[],i.value=null,o.value=null},_=Te(()=>i.value&&o.value?(o.value-i.value)/1e3:0);return{apiKey:e,topic:t,difficulty:n,questions:s,answers:r,startTime:i,endTime:o,setApiKey:a,clearApiKey:l,setTopic:c,setDifficulty:f,setQuestions:u,startQuiz:p,finishQuiz:m,resetQuiz:y,getTimeElapsed:_}}),ch={class:"flex h-screen flex-col"},uh={class:"flex flex-grow items-center justify-center bg-gray-100 p-4"},fh={__name:"App",setup(e){return pr(),qi(()=>{console.log("Application QCM Dynamique chargée !")}),(t,n)=>{const s=Ki("router-view");return Se(),Pe("div",ch,[n[0]||(n[0]=ue("header",{class:"bg-blue-500 py-4 text-white shadow-md"},[ue("div",{class:"container mx-auto text-center text-2xl font-semibold"}," QCM Dynamique ")],-1)),ue("main",uh,[$e(s)]),n[1]||(n[1]=ue("footer",{class:"bg-gray-200 py-3 text-center text-gray-600"},[ue("p",null,"© 2025 QCM Dynamique - Créé avec Vue 3 & TailwindCSS")],-1))])}}};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const mn=typeof document<"u";function ac(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ac(e.default)}const ne=Object.assign;function jr(e,t){const n={};for(const s in t){const r=t[s];n[s]=at(r)?r.map(e):e(r)}return n}const Yn=()=>{},at=Array.isArray,lc=/#/g,hh=/&/g,ph=/\//g,mh=/=/g,gh=/\?/g,cc=/\+/g,_h=/%5B/g,yh=/%5D/g,uc=/%5E/g,wh=/%60/g,fc=/%7B/g,bh=/%7C/g,dc=/%7D/g,vh=/%20/g;function Qi(e){return encodeURI(""+e).replace(bh,"|").replace(_h,"[").replace(yh,"]")}function xh(e){return Qi(e).replace(fc,"{").replace(dc,"}").replace(uc,"^")}function di(e){return Qi(e).replace(cc,"%2B").replace(vh,"+").replace(lc,"%23").replace(hh,"%26").replace(wh,"`").replace(fc,"{").replace(dc,"}").replace(uc,"^")}function Sh(e){return di(e).replace(mh,"%3D")}function Ch(e){return Qi(e).replace(lc,"%23").replace(gh,"%3F")}function Rh(e){return e==null?"":Ch(e).replace(ph,"%2F")}function as(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ah=/\/$/,Eh=e=>e.replace(Ah,"");function Ur(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Th(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:as(o)}}function Ph(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function aa(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Oh(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&En(t.matched[s],n.matched[r])&&hc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function En(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function hc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ih(e[n],t[n]))return!1;return!0}function Ih(e,t){return at(e)?la(e,t):at(t)?la(t,e):e===t}function la(e,t){return at(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Th(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Mt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ls;(function(e){e.pop="pop",e.push="push"})(ls||(ls={}));var Zn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Zn||(Zn={}));function $h(e){if(!e)if(mn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Eh(e)}const Mh=/^[^#]+#/;function Fh(e,t){return e.replace(Mh,"#")+t}function Nh(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const mr=()=>({left:window.scrollX,top:window.scrollY});function kh(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Nh(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ca(e,t){return(history.state?history.state.position-t:-1)+e}const hi=new Map;function Dh(e,t){hi.set(e,t)}function Lh(e){const t=hi.get(e);return hi.delete(e),t}let Bh=()=>location.protocol+"//"+location.host;function pc(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),aa(l,"")}return aa(n,e)+s+r}function jh(e,t,n,s){let r=[],i=[],o=null;const a=({state:p})=>{const m=pc(e,location),y=n.value,_=t.value;let C=0;if(p){if(n.value=m,t.value=p,o&&o===y){o=null;return}C=_?p.position-_.position:0}else s(m);r.forEach($=>{$(n.value,y,{delta:C,type:ls.pop,direction:C?C>0?Zn.forward:Zn.back:Zn.unknown})})};function l(){o=n.value}function c(p){r.push(p);const m=()=>{const y=r.indexOf(p);y>-1&&r.splice(y,1)};return i.push(m),m}function f(){const{history:p}=window;p.state&&p.replaceState(ne({},p.state,{scroll:mr()}),"")}function u(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:l,listen:c,destroy:u}}function ua(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?mr():null}}function Uh(e){const{history:t,location:n}=window,s={value:pc(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,f){const u=e.indexOf("#"),p=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+l:Bh()+e+l;try{t[f?"replaceState":"pushState"](c,"",p),r.value=c}catch(m){console.error(m),n[f?"replace":"assign"](p)}}function o(l,c){const f=ne({},t.state,ua(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,f,!0),s.value=l}function a(l,c){const f=ne({},r.value,t.state,{forward:l,scroll:mr()});i(f.current,f,!0);const u=ne({},ua(s.value,l,null),{position:f.position+1},c);i(l,u,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Hh(e){e=$h(e);const t=Uh(e),n=jh(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ne({location:"",base:e,go:s,createHref:Fh.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Wh(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Hh(e)}function Vh(e){return typeof e=="string"||e&&typeof e=="object"}function mc(e){return typeof e=="string"||typeof e=="symbol"}const gc=Symbol("");var fa;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(fa||(fa={}));function Pn(e,t){return ne(new Error,{type:e,[gc]:!0},t)}function Rt(e,t){return e instanceof Error&&gc in e&&(t==null||!!(e.type&t))}const da="[^/]+?",qh={sensitive:!1,strict:!1,start:!0,end:!0},Kh=/[.+*?^${}()[\]/\\]/g;function Jh(e,t){const n=ne({},qh,t),s=[];let r=n.start?"^":"";const i=[];for(const c of e){const f=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let u=0;u<c.length;u++){const p=c[u];let m=40+(n.sensitive?.25:0);if(p.type===0)u||(r+="/"),r+=p.value.replace(Kh,"\\$&"),m+=40;else if(p.type===1){const{value:y,repeatable:_,optional:C,regexp:$}=p;i.push({name:y,repeatable:_,optional:C});const w=$||da;if(w!==da){m+=10;try{new RegExp(`(${w})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+R.message)}}let E=_?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;u||(E=C&&c.length<2?`(?:/${E})`:"/"+E),C&&(E+="?"),r+=E,m+=20,C&&(m+=-8),_&&(m+=-20),w===".*"&&(m+=-50)}f.push(m)}s.push(f)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const f=c.match(o),u={};if(!f)return null;for(let p=1;p<f.length;p++){const m=f[p]||"",y=i[p-1];u[y.name]=m&&y.repeatable?m.split("/"):m}return u}function l(c){let f="",u=!1;for(const p of e){(!u||!f.endsWith("/"))&&(f+="/"),u=!1;for(const m of p)if(m.type===0)f+=m.value;else if(m.type===1){const{value:y,repeatable:_,optional:C}=m,$=y in c?c[y]:"";if(at($)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=at($)?$.join("/"):$;if(!w)if(C)p.length<2&&(f.endsWith("/")?f=f.slice(0,-1):u=!0);else throw new Error(`Missing required param "${y}"`);f+=w}}return f||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function zh(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function _c(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=zh(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(ha(s))return 1;if(ha(r))return-1}return r.length-s.length}function ha(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Qh={type:0,value:""},Xh=/[a-zA-Z0-9_]/;function Gh(e){if(!e)return[[]];if(e==="/")return[[Qh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",f="";function u(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&u(),o()):l===":"?(u(),n=1):p();break;case 4:p(),n=s;break;case 1:l==="("?n=2:Xh.test(l)?p():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=3:f+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),u(),o(),r}function Yh(e,t,n){const s=Jh(Gh(e.path),n),r=ne(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Zh(e,t){const n=[],s=new Map;t=_a({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function i(u,p,m){const y=!m,_=ma(u);_.aliasOf=m&&m.record;const C=_a(t,u),$=[_];if("alias"in u){const R=typeof u.alias=="string"?[u.alias]:u.alias;for(const k of R)$.push(ma(ne({},_,{components:m?m.record.components:_.components,path:k,aliasOf:m?m.record:_})))}let w,E;for(const R of $){const{path:k}=R;if(p&&k[0]!=="/"){const U=p.record.path,N=U[U.length-1]==="/"?"":"/";R.path=p.record.path+(k&&N+k)}if(w=Yh(R,p,C),m?m.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),y&&u.name&&!ga(w)&&o(u.name)),yc(w)&&l(w),_.children){const U=_.children;for(let N=0;N<U.length;N++)i(U[N],w,m&&m.children[N])}m=m||w}return E?()=>{o(E)}:Yn}function o(u){if(mc(u)){const p=s.get(u);p&&(s.delete(u),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(u);p>-1&&(n.splice(p,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){const p=np(u,n);n.splice(p,0,u),u.record.name&&!ga(u)&&s.set(u.record.name,u)}function c(u,p){let m,y={},_,C;if("name"in u&&u.name){if(m=s.get(u.name),!m)throw Pn(1,{location:u});C=m.record.name,y=ne(pa(p.params,m.keys.filter(E=>!E.optional).concat(m.parent?m.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),u.params&&pa(u.params,m.keys.map(E=>E.name))),_=m.stringify(y)}else if(u.path!=null)_=u.path,m=n.find(E=>E.re.test(_)),m&&(y=m.parse(_),C=m.record.name);else{if(m=p.name?s.get(p.name):n.find(E=>E.re.test(p.path)),!m)throw Pn(1,{location:u,currentLocation:p});C=m.record.name,y=ne({},p.params,u.params),_=m.stringify(y)}const $=[];let w=m;for(;w;)$.unshift(w.record),w=w.parent;return{name:C,path:_,params:y,matched:$,meta:tp($)}}e.forEach(u=>i(u));function f(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:f,getRoutes:a,getRecordMatcher:r}}function pa(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ma(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ep(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ep(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ga(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function tp(e){return e.reduce((t,n)=>ne(t,n.meta),{})}function _a(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function np(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;_c(e,t[i])<0?s=i:n=i+1}const r=sp(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function sp(e){let t=e;for(;t=t.parent;)if(yc(t)&&_c(e,t)===0)return t}function yc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function rp(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(cc," "),o=i.indexOf("="),a=as(o<0?i:i.slice(0,o)),l=o<0?null:as(i.slice(o+1));if(a in t){let c=t[a];at(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function ya(e){let t="";for(let n in e){const s=e[n];if(n=Sh(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(at(s)?s.map(i=>i&&di(i)):[s&&di(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function ip(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=at(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const op=Symbol(""),wa=Symbol(""),gr=Symbol(""),wc=Symbol(""),pi=Symbol("");function kn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function jt(e,t,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=p=>{p===!1?l(Pn(4,{from:n,to:t})):p instanceof Error?l(p):Vh(p)?l(Pn(2,{from:t,to:p})):(o&&s.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},f=i(()=>e.call(s&&s.instances[r],t,n,c));let u=Promise.resolve(f);e.length<3&&(u=u.then(c)),u.catch(p=>l(p))})}function Hr(e,t,n,s,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(ac(l)){const f=(l.__vccOpts||l)[t];f&&i.push(jt(f,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const u=dh(f)?f.default:f;o.mods[a]=f,o.components[a]=u;const m=(u.__vccOpts||u)[t];return m&&jt(m,n,s,o,a,r)()}))}}return i}function ba(e){const t=ot(gr),n=ot(wc),s=Te(()=>{const l=Qe(e.to);return t.resolve(l)}),r=Te(()=>{const{matched:l}=s.value,{length:c}=l,f=l[c-1],u=n.matched;if(!f||!u.length)return-1;const p=u.findIndex(En.bind(null,f));if(p>-1)return p;const m=va(l[c-2]);return c>1&&va(f)===m&&u[u.length-1].path!==m?u.findIndex(En.bind(null,l[c-2])):p}),i=Te(()=>r.value>-1&&fp(n.params,s.value.params)),o=Te(()=>r.value>-1&&r.value===n.matched.length-1&&hc(n.params,s.value.params));function a(l={}){if(up(l)){const c=t[Qe(e.replace)?"replace":"push"](Qe(e.to)).catch(Yn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Te(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function ap(e){return e.length===1?e[0]:e}const lp=El({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ba,setup(e,{slots:t}){const n=fs(ba(e)),{options:s}=ot(gr),r=Te(()=>({[xa(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[xa(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&ap(t.default(n));return e.custom?i:tc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),cp=lp;function up(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fp(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!at(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function va(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const xa=(e,t,n)=>e??t??n,dp=El({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ot(pi),r=Te(()=>e.route||s.value),i=ot(wa,0),o=Te(()=>{let c=Qe(i);const{matched:f}=r.value;let u;for(;(u=f[c])&&!u.components;)c++;return c}),a=Te(()=>r.value.matched[o.value]);Fs(wa,Te(()=>o.value+1)),Fs(op,a),Fs(pi,r);const l=ve();return Qn(()=>[l.value,a.value,e.name],([c,f,u],[p,m,y])=>{f&&(f.instances[u]=c,m&&m!==f&&c&&c===p&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),c&&f&&(!m||!En(f,m)||!p)&&(f.enterCallbacks[u]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,f=e.name,u=a.value,p=u&&u.components[f];if(!p)return Sa(n.default,{Component:p,route:c});const m=u.props[f],y=m?m===!0?c.params:typeof m=="function"?m(c):m:null,C=tc(p,ne({},y,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(u.instances[f]=null)},ref:l}));return Sa(n.default,{Component:C,route:c})||C}}});function Sa(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const hp=dp;function pp(e){const t=Zh(e.routes,e),n=e.parseQuery||rp,s=e.stringifyQuery||ya,r=e.history,i=kn(),o=kn(),a=kn(),l=lf(Mt);let c=Mt;mn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=jr.bind(null,v=>""+v),u=jr.bind(null,Rh),p=jr.bind(null,as);function m(v,F){let T,L;return mc(v)?(T=t.getRecordMatcher(v),L=F):L=v,t.addRoute(L,T)}function y(v){const F=t.getRecordMatcher(v);F&&t.removeRoute(F)}function _(){return t.getRoutes().map(v=>v.record)}function C(v){return!!t.getRecordMatcher(v)}function $(v,F){if(F=ne({},F||l.value),typeof v=="string"){const g=Ur(n,v,F.path),b=t.resolve({path:g.path},F),S=r.createHref(g.fullPath);return ne(g,b,{params:p(b.params),hash:as(g.hash),redirectedFrom:void 0,href:S})}let T;if(v.path!=null)T=ne({},v,{path:Ur(n,v.path,F.path).path});else{const g=ne({},v.params);for(const b in g)g[b]==null&&delete g[b];T=ne({},v,{params:u(g)}),F.params=u(F.params)}const L=t.resolve(T,F),oe=v.hash||"";L.params=f(p(L.params));const d=Ph(s,ne({},v,{hash:xh(oe),path:L.path})),h=r.createHref(d);return ne({fullPath:d,hash:oe,query:s===ya?ip(v.query):v.query||{}},L,{redirectedFrom:void 0,href:h})}function w(v){return typeof v=="string"?Ur(n,v,l.value.path):ne({},v)}function E(v,F){if(c!==v)return Pn(8,{from:F,to:v})}function R(v){return N(v)}function k(v){return R(ne(w(v),{replace:!0}))}function U(v){const F=v.matched[v.matched.length-1];if(F&&F.redirect){const{redirect:T}=F;let L=typeof T=="function"?T(v):T;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=w(L):{path:L},L.params={}),ne({query:v.query,hash:v.hash,params:L.path!=null?{}:v.params},L)}}function N(v,F){const T=c=$(v),L=l.value,oe=v.state,d=v.force,h=v.replace===!0,g=U(T);if(g)return N(ne(w(g),{state:typeof g=="object"?ne({},oe,g.state):oe,force:d,replace:h}),F||T);const b=T;b.redirectedFrom=F;let S;return!d&&Oh(s,L,T)&&(S=Pn(16,{to:b,from:L}),lt(L,L,!0,!1)),(S?Promise.resolve(S):q(b,L)).catch(x=>Rt(x)?Rt(x,2)?x:$t(x):te(x,b,L)).then(x=>{if(x){if(Rt(x,2))return N(ne({replace:h},w(x.to),{state:typeof x.to=="object"?ne({},oe,x.to.state):oe,force:d}),F||b)}else x=me(b,L,!0,h,oe);return z(b,L,x),x})}function H(v,F){const T=E(v,F);return T?Promise.reject(T):Promise.resolve()}function D(v){const F=on.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(v):v()}function q(v,F){let T;const[L,oe,d]=mp(v,F);T=Hr(L.reverse(),"beforeRouteLeave",v,F);for(const g of L)g.leaveGuards.forEach(b=>{T.push(jt(b,v,F))});const h=H.bind(null,v,F);return T.push(h),Xe(T).then(()=>{T=[];for(const g of i.list())T.push(jt(g,v,F));return T.push(h),Xe(T)}).then(()=>{T=Hr(oe,"beforeRouteUpdate",v,F);for(const g of oe)g.updateGuards.forEach(b=>{T.push(jt(b,v,F))});return T.push(h),Xe(T)}).then(()=>{T=[];for(const g of d)if(g.beforeEnter)if(at(g.beforeEnter))for(const b of g.beforeEnter)T.push(jt(b,v,F));else T.push(jt(g.beforeEnter,v,F));return T.push(h),Xe(T)}).then(()=>(v.matched.forEach(g=>g.enterCallbacks={}),T=Hr(d,"beforeRouteEnter",v,F,D),T.push(h),Xe(T))).then(()=>{T=[];for(const g of o.list())T.push(jt(g,v,F));return T.push(h),Xe(T)}).catch(g=>Rt(g,8)?g:Promise.reject(g))}function z(v,F,T){a.list().forEach(L=>D(()=>L(v,F,T)))}function me(v,F,T,L,oe){const d=E(v,F);if(d)return d;const h=F===Mt,g=mn?history.state:{};T&&(L||h?r.replace(v.fullPath,ne({scroll:h&&g&&g.scroll},oe)):r.push(v.fullPath,oe)),l.value=v,lt(v,F,T,h),$t()}let we;function xt(){we||(we=r.listen((v,F,T)=>{if(!ws.listening)return;const L=$(v),oe=U(L);if(oe){N(ne(oe,{replace:!0,force:!0}),L).catch(Yn);return}c=L;const d=l.value;mn&&Dh(ca(d.fullPath,T.delta),mr()),q(L,d).catch(h=>Rt(h,12)?h:Rt(h,2)?(N(ne(w(h.to),{force:!0}),L).then(g=>{Rt(g,20)&&!T.delta&&T.type===ls.pop&&r.go(-1,!1)}).catch(Yn),Promise.reject()):(T.delta&&r.go(-T.delta,!1),te(h,L,d))).then(h=>{h=h||me(L,d,!1),h&&(T.delta&&!Rt(h,8)?r.go(-T.delta,!1):T.type===ls.pop&&Rt(h,20)&&r.go(-1,!1)),z(L,d,h)}).catch(Yn)}))}let et=kn(),fe=kn(),X;function te(v,F,T){$t(v);const L=fe.list();return L.length?L.forEach(oe=>oe(v,F,T)):console.error(v),Promise.reject(v)}function St(){return X&&l.value!==Mt?Promise.resolve():new Promise((v,F)=>{et.add([v,F])})}function $t(v){return X||(X=!v,xt(),et.list().forEach(([F,T])=>v?T(v):F()),et.reset()),v}function lt(v,F,T,L){const{scrollBehavior:oe}=e;if(!mn||!oe)return Promise.resolve();const d=!T&&Lh(ca(v.fullPath,0))||(L||!T)&&history.state&&history.state.scroll||null;return Ui().then(()=>oe(v,F,d)).then(h=>h&&kh(h)).catch(h=>te(h,v,F))}const De=v=>r.go(v);let rn;const on=new Set,ws={currentRoute:l,listening:!0,addRoute:m,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:_,resolve:$,options:e,push:R,replace:k,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:fe.add,isReady:St,install(v){const F=this;v.component("RouterLink",cp),v.component("RouterView",hp),v.config.globalProperties.$router=F,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>Qe(l)}),mn&&!rn&&l.value===Mt&&(rn=!0,R(r.location).catch(oe=>{}));const T={};for(const oe in Mt)Object.defineProperty(T,oe,{get:()=>l.value[oe],enumerable:!0});v.provide(gr,F),v.provide(wc,yl(T)),v.provide(pi,l);const L=v.unmount;on.add(v),v.unmount=function(){on.delete(v),on.size<1&&(c=Mt,we&&we(),we=null,l.value=Mt,rn=!1,X=!1),L()}}};function Xe(v){return v.reduce((F,T)=>F.then(()=>D(T)),Promise.resolve())}return ws}function mp(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>En(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>En(c,l))||r.push(l))}return[n,s,r]}function gp(){return ot(gr)}const _p={class:"mx-auto w-full max-w-lg rounded-lg bg-white p-4 shadow-md"},yp={key:0,class:"text-center text-green-600"},wp={class:"text-center"},bp={__name:"Home",setup(e){const t=gp(),n=pr(),s=ve(""),r=ve(""),i=ve(10),o=()=>{if(!n.apiKey&&!s.value){alert("Veuillez entrer une clé API !");return}if(n.apiKey||n.setApiKey(s.value),!r.value){alert("Veuillez entrer un sujet !");return}n.resetQuiz(),n.setTopic(r.value),n.setDifficulty(i.value),t.push("/quiz")};return(a,l)=>(Se(),Pe("div",_p,[l[6]||(l[6]=ue("h1",{class:"mb-3 text-center text-xl font-bold"}," Générateur de QCM Dynamique ",-1)),ue("form",{onSubmit:Xd(o,["prevent"]),class:"space-y-3"},[Qe(n).apiKey?(Se(),Pe("div",yp,[l[4]||(l[4]=Yl(" ✅ Clé OpenAI enregistrée ")),ue("button",{onClick:l[0]||(l[0]=(...c)=>Qe(n).clearApiKey&&Qe(n).clearApiKey(...c)),type:"button",class:"ml-2 text-red-500 underline"}," Changer de clé ")])):Tr((Se(),Pe("input",{key:1,"onUpdate:modelValue":l[1]||(l[1]=c=>s.value=c),type:"password",placeholder:"Entrez votre clé OpenAI",class:"w-full rounded border p-2"},null,512)),[[Lr,s.value]]),Tr(ue("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>r.value=c),type:"text",placeholder:"Sujet du quiz (ex: Histoire de France)",class:"w-full rounded border p-2",required:""},null,512),[[Lr,r.value]]),ue("div",null,[Tr(ue("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>i.value=c),type:"range",min:"1",max:"100",class:"w-full"},null,512),[[Lr,i.value]]),ue("p",wp,"Difficulté : "+st(i.value),1)]),l[5]||(l[5]=ue("button",{type:"submit",class:"h-10 w-full cursor-pointer rounded bg-blue-500 px-4 py-2 text-sm text-white transition-all hover:bg-blue-600"}," Démarrer le quiz ",-1))],32)]))}},mi="RFC3986",gi={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},vp="RFC1738",xp=Array.isArray,ht=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Wr=1024,Sp=(e,t,n,s,r)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=Wr){const l=i.length>=Wr?i.slice(a,a+Wr):i,c=[];for(let f=0;f<l.length;++f){let u=l.charCodeAt(f);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||r===vp&&(u===40||u===41)){c[c.length]=l.charAt(f);continue}if(u<128){c[c.length]=ht[u];continue}if(u<2048){c[c.length]=ht[192|u>>6]+ht[128|u&63];continue}if(u<55296||u>=57344){c[c.length]=ht[224|u>>12]+ht[128|u>>6&63]+ht[128|u&63];continue}f+=1,u=65536+((u&1023)<<10|l.charCodeAt(f)&1023),c[c.length]=ht[240|u>>18]+ht[128|u>>12&63]+ht[128|u>>6&63]+ht[128|u&63]}o+=c.join("")}return o};function Cp(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Ca(e,t){if(xp(e)){const n=[];for(let s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)}const Rp=Object.prototype.hasOwnProperty,bc={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},mt=Array.isArray,Ap=Array.prototype.push,vc=function(e,t){Ap.apply(e,mt(t)?t:[t])},Ep=Date.prototype.toISOString,ye={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Sp,encodeValuesOnly:!1,format:mi,formatter:gi[mi],indices:!1,serializeDate(e){return Ep.call(e)},skipNulls:!1,strictNullHandling:!1};function Pp(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Vr={};function xc(e,t,n,s,r,i,o,a,l,c,f,u,p,m,y,_,C,$){let w=e,E=$,R=0,k=!1;for(;(E=E.get(Vr))!==void 0&&!k;){const q=E.get(e);if(R+=1,typeof q<"u"){if(q===R)throw new RangeError("Cyclic object value");k=!0}typeof E.get(Vr)>"u"&&(R=0)}if(typeof c=="function"?w=c(t,w):w instanceof Date?w=p==null?void 0:p(w):n==="comma"&&mt(w)&&(w=Ca(w,function(q){return q instanceof Date?p==null?void 0:p(q):q})),w===null){if(i)return l&&!_?l(t,ye.encoder,C,"key",m):t;w=""}if(Pp(w)||Cp(w)){if(l){const q=_?t:l(t,ye.encoder,C,"key",m);return[(y==null?void 0:y(q))+"="+(y==null?void 0:y(l(w,ye.encoder,C,"value",m)))]}return[(y==null?void 0:y(t))+"="+(y==null?void 0:y(String(w)))]}const U=[];if(typeof w>"u")return U;let N;if(n==="comma"&&mt(w))_&&l&&(w=Ca(w,l)),N=[{value:w.length>0?w.join(",")||null:void 0}];else if(mt(c))N=c;else{const q=Object.keys(w);N=f?q.sort(f):q}const H=a?String(t).replace(/\./g,"%2E"):String(t),D=s&&mt(w)&&w.length===1?H+"[]":H;if(r&&mt(w)&&w.length===0)return D+"[]";for(let q=0;q<N.length;++q){const z=N[q],me=typeof z=="object"&&typeof z.value<"u"?z.value:w[z];if(o&&me===null)continue;const we=u&&a?z.replace(/\./g,"%2E"):z,xt=mt(w)?typeof n=="function"?n(D,we):D:D+(u?"."+we:"["+we+"]");$.set(e,R);const et=new WeakMap;et.set(Vr,$),vc(U,xc(me,xt,n,s,r,i,o,a,n==="comma"&&_&&mt(w)?null:l,c,f,u,p,m,y,_,C,et))}return U}function Op(e=ye){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||ye.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=mi;if(typeof e.format<"u"){if(!Rp.call(gi,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const s=gi[n];let r=ye.filter;(typeof e.filter=="function"||mt(e.filter))&&(r=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in bc?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=ye.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:ye.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ye.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ye.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ye.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ye.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ye.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ye.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ye.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ye.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ye.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ye.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ye.strictNullHandling}}function Ip(e,t={}){let n=e;const s=Op(t);let r,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):mt(s.filter)&&(i=s.filter,r=i);const o=[];if(typeof n!="object"||n===null)return"";const a=bc[s.arrayFormat],l=a==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const c=new WeakMap;for(let p=0;p<r.length;++p){const m=r[p];s.skipNulls&&n[m]===null||vc(o,xc(n[m],m,a,l,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,c))}const f=o.join(s.delimiter);let u=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),f.length>0?u+f:""}const gn="4.87.4";let Ra=!1,es,Sc,Cc,_i,Rc,Ac,Ec,Pc,Oc;function Tp(e,t={auto:!1}){if(Ra)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(es)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${es}'\``);Ra=t.auto,es=e.kind,Sc=e.fetch,Cc=e.FormData,_i=e.File,Rc=e.ReadableStream,Ac=e.getMultipartRequestOptions,Ec=e.getDefaultAgent,Pc=e.fileFromPath,Oc=e.isFsReadStream}class $p{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function Mp({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new $p(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}es||Tp(Mp(),{auto:!0});class V extends Error{}class Ae extends V{constructor(t,n,s,r){super(`${Ae.makeMessage(t,n,s)}`),this.status=t,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,s,r){if(!t||!r)return new _r({message:s,cause:wi(n)});const i=n==null?void 0:n.error;return t===400?new Ic(t,i,s,r):t===401?new Tc(t,i,s,r):t===403?new $c(t,i,s,r):t===404?new Mc(t,i,s,r):t===409?new Fc(t,i,s,r):t===422?new Nc(t,i,s,r):t===429?new kc(t,i,s,r):t>=500?new Dc(t,i,s,r):new Ae(t,i,s,r)}}class Ge extends Ae{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class _r extends Ae{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Xi extends _r{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Ic extends Ae{}class Tc extends Ae{}class $c extends Ae{}class Mc extends Ae{}class Fc extends Ae{}class Nc extends Ae{}class kc extends Ae{}class Dc extends Ae{}class Lc extends V{constructor(){super("Could not parse response content as the length limit was reached")}}class Bc extends V{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Cs=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},Qt=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},qe;class yr{constructor(){qe.set(this,void 0),this.buffer=new Uint8Array,Cs(this,qe,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(this.buffer.length+n.length);s.set(this.buffer),s.set(n,this.buffer.length),this.buffer=s;const r=[];let i;for(;(i=Fp(this.buffer,Qt(this,qe,"f")))!=null;){if(i.carriage&&Qt(this,qe,"f")==null){Cs(this,qe,i.index,"f");continue}if(Qt(this,qe,"f")!=null&&(i.index!==Qt(this,qe,"f")+1||i.carriage)){r.push(this.decodeText(this.buffer.slice(0,Qt(this,qe,"f")-1))),this.buffer=this.buffer.slice(Qt(this,qe,"f")),Cs(this,qe,null,"f");continue}const o=Qt(this,qe,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));r.push(a),this.buffer=this.buffer.slice(i.index),Cs(this,qe,null,"f")}return r}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new V(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new V(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new V("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}qe=new WeakMap;yr.NEWLINE_CHARS=new Set([`
`,"\r"]);yr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Fp(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Np(e){for(let s=0;s<e.length-1;s++){if(e[s]===10&&e[s+1]===10||e[s]===13&&e[s+1]===13)return s+2;if(e[s]===13&&e[s+1]===10&&s+3<e.length&&e[s+2]===13&&e[s+3]===10)return s+4}return-1}function jc(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class wt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const o of kp(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new Ae(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new Ae(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new wt(r,n)}static fromReadableStream(t,n){let s=!1;async function*r(){const o=new yr,a=jc(t);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new wt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();t.push(o),n.push(o)}return i.shift()}});return[new wt(()=>r(t),this.controller),new wt(()=>r(n),this.controller)]}toReadableStream(){const t=this;let n;const s=new TextEncoder;return new Rc({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*kp(e,t){if(!e.body)throw t.abort(),new V("Attempted to iterate over a response with no body");const n=new Lp,s=new yr,r=jc(e.body);for await(const i of Dp(r))for(const o of s.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of s.flush()){const o=n.decode(i);o&&(yield o)}}async function*Dp(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(t.length+s.length);r.set(t),r.set(s,t.length),t=r;let i;for(;(i=Np(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class Lp{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,r]=Bp(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function Bp(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const Uc=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Hc=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&wr(e),wr=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",jp=e=>Hc(e)||Uc(e)||Oc(e);async function Wc(e,t,n){var r;if(e=await e,Hc(e))return e;if(Uc(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=wr(i)?[await i.arrayBuffer()]:[i];return new _i(o,t,n)}const s=await Up(e);if(t||(t=Wp(e)??"unknown_file"),!(n!=null&&n.type)){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new _i(s,t,n)}async function Up(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(wr(e))t.push(await e.arrayBuffer());else if(Vp(e))for await(const s of e)t.push(s);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${Hp(e)}`);return t}function Hp(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function Wp(e){var t;return qr(e.name)||qr(e.filename)||((t=qr(e.path))==null?void 0:t.split(/[\\/]/).pop())}const qr=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Vp=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Aa=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",On=async e=>{const t=await qp(e.body);return Ac(t,e)},qp=async e=>{const t=new Cc;return await Promise.all(Object.entries(e||{}).map(([n,s])=>yi(t,n,s))),t},yi=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(jp(n)){const s=await Wc(n);e.append(t,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>yi(e,t+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>yi(e,`${t}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var xn={},Kp=function(e,t,n,s,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},Jp=function(e,t,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Rs;async function Vc(e){var o;const{response:t}=e;if(e.options.stream)return Sn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):wt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),s=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((s==null?void 0:s.includes("application/json"))||(s==null?void 0:s.endsWith("+json"))){const a=await t.json();return Sn("response",t.status,t.url,t.headers,a),qc(a,t)}const i=await t.text();return Sn("response",t.status,t.url,t.headers,i),i}function qc(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class br extends Promise{constructor(t,n=Vc){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new br(this.responsePromise,async n=>qc(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class zp{constructor({baseURL:t,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=t,this.maxRetries=Kr("maxRetries",n),this.timeout=Kr("timeout",s),this.httpAgent=r,this.fetch=i??Sc}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...em(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${rm()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&wr(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:t,path:n,...r,body:i}}))}getAPIList(t,n,s){return this.requestAPIList(n,{method:"get",path:t,...s})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var y;t={...t};const{method:s,path:r,query:i,headers:o={}}=t,a=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Aa(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(r,i);"timeout"in t&&Kr("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const f=t.httpAgent??this.httpAgent??Ec(c),u=t.timeout+1e3;typeof((y=f==null?void 0:f.options)==null?void 0:y.timeout)=="number"&&u>(f.options.timeout??0)&&(f.options.timeout=u),this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:t,headers:o,contentLength:l,retryCount:n});return{req:{method:s,...a&&{body:a},headers:p,...f&&{agent:f},signal:t.signal??null},url:c,timeout:t.timeout}}buildHeaders({options:t,headers:n,contentLength:s,retryCount:r}){const i={};s&&(i["content-length"]=s);const o=this.defaultHeaders(t);return Ia(i,o),Ia(i,n),Aa(t.body)&&es!=="node"&&delete i["content-type"],Es(o,"x-stainless-retry-count")===void 0&&Es(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(r)),Es(o,"x-stainless-timeout")===void 0&&Es(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:s}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,s,r){return Ae.generate(t,n,s,r)}request(t,n=null){return new br(this.makeRequest(t,n))}async makeRequest(t,n){var u,p;const s=await t,r=s.maxRetries??this.maxRetries;n==null&&(n=r),await this.prepareOptions(s);const{req:i,url:o,timeout:a}=this.buildRequest(s,{retryCount:r-n});if(await this.prepareRequest(i,{url:o,options:s}),Sn("request",o,s,i.headers),(u=s.signal)!=null&&u.aborted)throw new Ge;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(wi);if(c instanceof Error){if((p=s.signal)!=null&&p.aborted)throw new Ge;if(n)return this.retryRequest(s,n);throw c.name==="AbortError"?new Xi:new _r({cause:c})}const f=Xp(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const w=`retrying, ${n} attempts remaining`;return Sn(`response (error; ${w})`,c.status,o,f),this.retryRequest(s,n,f)}const m=await c.text().catch(w=>wi(w).message),y=tm(m),_=y?void 0:m;throw Sn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,f,_),this.makeStatusError(c.status,y,_,f)}return{response:c,options:s,controller:l}}requestAPIList(t,n){const s=this.makeRequest(n,null);return new Qp(this,s,t)}buildURL(t,n){const s=sm(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),r=this.defaultQuery();return Jc(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new V(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s),l={signal:r.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(a)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(r=a)}const o=s==null?void 0:s["retry-after"];if(o&&!r){const a=parseFloat(o);Number.isNaN(a)?r=Date.parse(o)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=t.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await ps(r),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${gn}`}}class Kc{constructor(t,n,s,r){Rs.set(this,void 0),Kp(this,Rs,t),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new V("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const s=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[r,i]of s)t.url.searchParams.set(r,i);n.query=void 0,n.path=t.url.toString()}return await Jp(this,Rs,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Rs=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Qp extends br{constructor(t,n,s){super(n,async r=>new s(t,r.response,await Vc(r),r.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Xp=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const s=n.toString();return t[s.toLowerCase()]||t[s]}}),Gp={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},xe=e=>typeof e=="object"&&e!==null&&!Jc(e)&&Object.keys(e).every(t=>zc(Gp,t)),Yp=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gn,"X-Stainless-OS":Pa(Deno.build.os),"X-Stainless-Arch":Ea(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gn,"X-Stainless-OS":Pa(process.platform),"X-Stainless-Arch":Ea(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Zp();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Zp(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:t,version:`${r}.${i}.${o}`}}}return null}const Ea=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Pa=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Oa;const em=()=>Oa??(Oa=Yp()),tm=e=>{try{return JSON.parse(e)}catch{return}},nm=/^[a-z][a-z0-9+.-]*:/i,sm=e=>nm.test(e),ps=e=>new Promise(t=>setTimeout(t,e)),Kr=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new V(`${e} must be an integer`);if(t<0)throw new V(`${e} must be a positive integer`);return t},wi=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},As=e=>{var t,n,s,r;if(typeof process<"u")return((t=xn==null?void 0:xn[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,e))==null?void 0:r.trim()};function Jc(e){if(!e)return!0;for(const t in e)return!1;return!0}function zc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ia(e,t){for(const n in t){if(!zc(t,n))continue;const s=n.toLowerCase();if(!s)continue;const r=t[n];r===null?delete e[s]:r!==void 0&&(e[s]=r)}}const Ta=new Set(["authorization","api-key"]);function Sn(e,...t){if(typeof process<"u"&&(xn==null?void 0:xn.DEBUG)==="true"){const n=t.map(s=>{if(!s)return s;if(s.headers){const i={...s,headers:{...s.headers}};for(const o in s.headers)Ta.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let r=null;for(const i in s)Ta.has(i.toLowerCase())&&(r??(r={...s}),r[i]="REDACTED");return r??s});console.log(`OpenAI:DEBUG:${e}`,...n)}}const rm=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),im=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",om=e=>typeof(e==null?void 0:e.get)=="function",Es=(e,t)=>{var s;const n=t.toLowerCase();if(om(e)){const r=((s=t[0])==null?void 0:s.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[t,n,t.toUpperCase(),r]){const o=e.get(i);if(o)return o}}for(const[r,i]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function Jr(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Gi extends Kc{constructor(t,n,s,r){super(t,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ue extends Kc{constructor(t,n,s,r){super(t,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const t=this.getPaginatedItems();if(!t.length)return null;const n=(s=t[t.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class Z{constructor(t){this._client=t}}let Qc=class extends Z{list(t,n={},s){return xe(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,am,{query:n,...s})}},vr=class extends Z{constructor(){super(...arguments),this.messages=new Qc(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,s){return this._client.post(`/chat/completions/${t}`,{body:n,...s})}list(t={},n){return xe(t)?this.list({},t):this._client.getAPIList("/chat/completions",xr,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class xr extends Ue{}class am extends Ue{}vr.ChatCompletionsPage=xr;vr.Messages=Qc;let Sr=class extends Z{constructor(){super(...arguments),this.completions=new vr(this._client)}};Sr.Completions=vr;Sr.ChatCompletionsPage=xr;class Xc extends Z{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class Gc extends Z{create(t,n){return this._client.post("/audio/transcriptions",On({body:t,...n,__metadata:{model:t.model}}))}}class Yc extends Z{create(t,n){return this._client.post("/audio/translations",On({body:t,...n,__metadata:{model:t.model}}))}}class ms extends Z{constructor(){super(...arguments),this.transcriptions=new Gc(this._client),this.translations=new Yc(this._client),this.speech=new Xc(this._client)}}ms.Transcriptions=Gc;ms.Translations=Yc;ms.Speech=Xc;class Yi extends Z{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return xe(t)?this.list({},t):this._client.getAPIList("/batches",Zi,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class Zi extends Ue{}Yi.BatchesPage=Zi;class eo extends Z{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,s){return this._client.post(`/assistants/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},n){return xe(t)?this.list({},t):this._client.getAPIList("/assistants",to,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class to extends Ue{}eo.AssistantsPage=to;function $a(e){return typeof e.parse=="function"}const Cn=e=>(e==null?void 0:e.role)==="assistant",Zc=e=>(e==null?void 0:e.role)==="function",eu=e=>(e==null?void 0:e.role)==="tool";var tt=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},he=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},bi,Ds,Ls,Ln,Bn,Bs,jn,Et,Un,Gs,Ys,_n,tu;class no{constructor(){bi.add(this),this.controller=new AbortController,Ds.set(this,void 0),Ls.set(this,()=>{}),Ln.set(this,()=>{}),Bn.set(this,void 0),Bs.set(this,()=>{}),jn.set(this,()=>{}),Et.set(this,{}),Un.set(this,!1),Gs.set(this,!1),Ys.set(this,!1),_n.set(this,!1),tt(this,Ds,new Promise((t,n)=>{tt(this,Ls,t,"f"),tt(this,Ln,n,"f")}),"f"),tt(this,Bn,new Promise((t,n)=>{tt(this,Bs,t,"f"),tt(this,jn,n,"f")}),"f"),he(this,Ds,"f").catch(()=>{}),he(this,Bn,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},he(this,bi,"m",tu).bind(this))},0)}_connected(){this.ended||(he(this,Ls,"f").call(this),this._emit("connect"))}get ended(){return he(this,Un,"f")}get errored(){return he(this,Gs,"f")}get aborted(){return he(this,Ys,"f")}abort(){this.controller.abort()}on(t,n){return(he(this,Et,"f")[t]||(he(this,Et,"f")[t]=[])).push({listener:n}),this}off(t,n){const s=he(this,Et,"f")[t];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(t,n){return(he(this,Et,"f")[t]||(he(this,Et,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,s)=>{tt(this,_n,!0,"f"),t!=="error"&&this.once("error",s),this.once(t,n)})}async done(){tt(this,_n,!0,"f"),await he(this,Bn,"f")}_emit(t,...n){if(he(this,Un,"f"))return;t==="end"&&(tt(this,Un,!0,"f"),he(this,Bs,"f").call(this));const s=he(this,Et,"f")[t];if(s&&(he(this,Et,"f")[t]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),t==="abort"){const r=n[0];!he(this,_n,"f")&&!(s!=null&&s.length)&&Promise.reject(r),he(this,Ln,"f").call(this,r),he(this,jn,"f").call(this,r),this._emit("end");return}if(t==="error"){const r=n[0];!he(this,_n,"f")&&!(s!=null&&s.length)&&Promise.reject(r),he(this,Ln,"f").call(this,r),he(this,jn,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Ds=new WeakMap,Ls=new WeakMap,Ln=new WeakMap,Bn=new WeakMap,Bs=new WeakMap,jn=new WeakMap,Et=new WeakMap,Un=new WeakMap,Gs=new WeakMap,Ys=new WeakMap,_n=new WeakMap,bi=new WeakSet,tu=function(t){if(tt(this,Gs,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Ge),t instanceof Ge)return tt(this,Ys,!0,"f"),this._emit("abort",t);if(t instanceof V)return this._emit("error",t);if(t instanceof Error){const n=new V(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new V(String(t)))};function so(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function gs(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function lm(e,t){return!t||!nu(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:ro(e,t)}function ro(e,t){const n=e.choices.map(s=>{var r;if(s.finish_reason==="length")throw new Lc;if(s.finish_reason==="content_filter")throw new Bc;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>um(t,i)))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?cm(t,s.message.content):null}}});return{...e,choices:n}}function cm(e,t){var n,s;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=e.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function um(e,t){var s;const n=(s=e.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:gs(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function fm(e,t){var s;if(!e)return!1;const n=(s=e.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===t.function.name});return gs(n)||(n==null?void 0:n.function.strict)||!1}function nu(e){var t;return so(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>gs(n)||n.type==="function"&&n.function.strict===!0))??!1}function dm(e){for(const t of e??[]){if(t.type!=="function")throw new V(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new V(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Be=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Ee,vi,Zs,xi,Si,Ci,su,Ri;const Ma=10;class ru extends no{constructor(){super(...arguments),Ee.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var s;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(s=t.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(Zc(t)||eu(t))&&t.content)this._emit("functionCallResult",t.content);else if(Cn(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Cn(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new V("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Be(this,Ee,"m",vi).call(this)}async finalMessage(){return await this.done(),Be(this,Ee,"m",Zs).call(this)}async finalFunctionCall(){return await this.done(),Be(this,Ee,"m",xi).call(this)}async finalFunctionCallResult(){return await this.done(),Be(this,Ee,"m",Si).call(this)}async totalUsage(){return await this.done(),Be(this,Ee,"m",Ci).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Be(this,Ee,"m",Zs).call(this);n&&this._emit("finalMessage",n);const s=Be(this,Ee,"m",vi).call(this);s&&this._emit("finalContent",s);const r=Be(this,Ee,"m",xi).call(this);r&&this._emit("finalFunctionCall",r);const i=Be(this,Ee,"m",Si).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Be(this,Ee,"m",Ci).call(this))}async _createChatCompletion(t,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Be(this,Ee,"m",su).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ro(i,n))}async _runChatCompletion(t,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(t,n,s)}async _runFunctions(t,n,s){var p;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=Ma}=s||{},f={};for(const m of n.functions)f[m.name||m.function.name]=m;const u=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const _=(p=(await this._createChatCompletion(t,{...a,function_call:i,functions:u,messages:[...this.messages]},s)).choices[0])==null?void 0:p.message;if(!_)throw new V("missing message in ChatCompletion response");if(!_.function_call)return;const{name:C,arguments:$}=_.function_call,w=f[C];if(w){if(l&&l!==C){const U=`Invalid function_call: ${JSON.stringify(C)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:C,content:U});continue}}else{const U=`Invalid function_call: ${JSON.stringify(C)}. Available options are: ${u.map(N=>JSON.stringify(N.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:C,content:U});continue}let E;try{E=$a(w)?await w.parse($):$}catch(U){this._addMessage({role:r,name:C,content:U instanceof Error?U.message:String(U)});continue}const R=await w.function(E,this),k=Be(this,Ee,"m",Ri).call(this,R);if(this._addMessage({role:r,name:C,content:k}),l)return}}async _runTools(t,n,s){var m,y,_;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:c=Ma}=s||{},f=n.tools.map(C=>{if(gs(C)){if(!C.$callback)throw new V("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:C.$callback,name:C.function.name,description:C.function.description||"",parameters:C.function.parameters,parse:C.$parseRaw,strict:!0}}}return C}),u={};for(const C of f)C.type==="function"&&(u[C.function.name||C.function.function.name]=C.function);const p="tools"in n?f.map(C=>C.type==="function"?{type:"function",function:{name:C.function.name||C.function.function.name,parameters:C.function.parameters,description:C.function.description,strict:C.function.strict}}:C):void 0;for(const C of n.messages)this._addMessage(C,!1);for(let C=0;C<c;++C){const w=(y=(await this._createChatCompletion(t,{...a,tool_choice:i,tools:p,messages:[...this.messages]},s)).choices[0])==null?void 0:y.message;if(!w)throw new V("missing message in ChatCompletion response");if(!((_=w.tool_calls)!=null&&_.length))return;for(const E of w.tool_calls){if(E.type!=="function")continue;const R=E.id,{name:k,arguments:U}=E.function,N=u[k];if(N){if(l&&l!==k){const z=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:R,content:z});continue}}else{const z=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(u).map(me=>JSON.stringify(me)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:R,content:z});continue}let H;try{H=$a(N)?await N.parse(U):U}catch(z){const me=z instanceof Error?z.message:String(z);this._addMessage({role:r,tool_call_id:R,content:me});continue}const D=await N.function(H,this),q=Be(this,Ee,"m",Ri).call(this,D);if(this._addMessage({role:r,tool_call_id:R,content:q}),l)return}}}}Ee=new WeakSet,vi=function(){return Be(this,Ee,"m",Zs).call(this).content??null},Zs=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Cn(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new V("stream ended without producing a ChatCompletionMessage with role=assistant")},xi=function(){var t,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(Cn(r)&&(r!=null&&r.function_call))return r.function_call;if(Cn(r)&&((t=r==null?void 0:r.tool_calls)!=null&&t.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},Si=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Zc(n)&&n.content!=null||eu(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Ci=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},su=function(t){if(t.n!=null&&t.n>1)throw new V("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ri=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class cs extends ru{static runFunctions(t,n,s){const r=new cs,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(t,n,i)),r}static runTools(t,n,s){const r=new cs,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(t,n,i)),r}_addMessage(t,n=!0){super._addMessage(t,n),Cn(t)&&t.content&&this._emit("content",t.content)}}const iu=1,ou=2,au=4,lu=8,cu=16,uu=32,fu=64,du=128,hu=256,pu=du|hu,mu=cu|uu|pu|fu,gu=iu|ou|mu,_u=au|lu,hm=gu|_u,be={STR:iu,NUM:ou,ARR:au,OBJ:lu,NULL:cu,BOOL:uu,NAN:fu,INFINITY:du,MINUS_INFINITY:hu,INF:pu,SPECIAL:mu,ATOM:gu,COLLECTION:_u,ALL:hm};class pm extends Error{}class mm extends Error{}function gm(e,t=be.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return _m(e.trim(),t)}const _m=(e,t)=>{const n=e.length;let s=0;const r=p=>{throw new pm(`${p} at position ${s}`)},i=p=>{throw new mm(`${p} at position ${s}`)},o=()=>(u(),s>=n&&r("Unexpected end of input"),e[s]==='"'?a():e[s]==="{"?l():e[s]==="["?c():e.substring(s,s+4)==="null"||be.NULL&t&&n-s<4&&"null".startsWith(e.substring(s))?(s+=4,null):e.substring(s,s+4)==="true"||be.BOOL&t&&n-s<4&&"true".startsWith(e.substring(s))?(s+=4,!0):e.substring(s,s+5)==="false"||be.BOOL&t&&n-s<5&&"false".startsWith(e.substring(s))?(s+=5,!1):e.substring(s,s+8)==="Infinity"||be.INFINITY&t&&n-s<8&&"Infinity".startsWith(e.substring(s))?(s+=8,1/0):e.substring(s,s+9)==="-Infinity"||be.MINUS_INFINITY&t&&1<n-s&&n-s<9&&"-Infinity".startsWith(e.substring(s))?(s+=9,-1/0):e.substring(s,s+3)==="NaN"||be.NAN&t&&n-s<3&&"NaN".startsWith(e.substring(s))?(s+=3,NaN):f()),a=()=>{const p=s;let m=!1;for(s++;s<n&&(e[s]!=='"'||m&&e[s-1]==="\\");)m=e[s]==="\\"?!m:!1,s++;if(e.charAt(s)=='"')try{return JSON.parse(e.substring(p,++s-Number(m)))}catch(y){i(String(y))}else if(be.STR&t)try{return JSON.parse(e.substring(p,s-Number(m))+'"')}catch{return JSON.parse(e.substring(p,e.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{s++,u();const p={};try{for(;e[s]!=="}";){if(u(),s>=n&&be.OBJ&t)return p;const m=a();u(),s++;try{const y=o();Object.defineProperty(p,m,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(be.OBJ&t)return p;throw y}u(),e[s]===","&&s++}}catch{if(be.OBJ&t)return p;r("Expected '}' at end of object")}return s++,p},c=()=>{s++;const p=[];try{for(;e[s]!=="]";)p.push(o()),u(),e[s]===","&&s++}catch{if(be.ARR&t)return p;r("Expected ']' at end of array")}return s++,p},f=()=>{if(s===0){e==="-"&&be.NUM&t&&r("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(be.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(m))}}const p=s;for(e[s]==="-"&&s++;e[s]&&!",]}".includes(e[s]);)s++;s==n&&!(be.NUM&t)&&r("Unterminated number literal");try{return JSON.parse(e.substring(p,s))}catch{e.substring(p,s)==="-"&&be.NUM&t&&r("Not sure what '-' is");try{return JSON.parse(e.substring(p,e.lastIndexOf("e")))}catch(y){i(String(y))}}},u=()=>{for(;s<n&&` 
\r	`.includes(e[s]);)s++};return o()},Fa=e=>gm(e,be.ALL^be.NUM);var cn=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},ie=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},_e,At,un,Ft,zr,Ps,Qr,Xr,Gr,Os,Yr,Na;class us extends ru{constructor(t){super(),_e.add(this),At.set(this,void 0),un.set(this,void 0),Ft.set(this,void 0),cn(this,At,t,"f"),cn(this,un,[],"f")}get currentChatCompletionSnapshot(){return ie(this,Ft,"f")}static fromReadableStream(t){const n=new us(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,s){const r=new us(n);return r._run(()=>r._runChatCompletion(t,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(t,n,s){var o;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ie(this,_e,"m",zr).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)ie(this,_e,"m",Qr).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Ge;return this._addChatCompletion(ie(this,_e,"m",Os).call(this))}async _fromReadableStream(t,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ie(this,_e,"m",zr).call(this),this._connected();const r=wt.fromReadableStream(t,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(ie(this,_e,"m",Os).call(this)),ie(this,_e,"m",Qr).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new Ge;return this._addChatCompletion(ie(this,_e,"m",Os).call(this))}[(At=new WeakMap,un=new WeakMap,Ft=new WeakMap,_e=new WeakSet,zr=function(){this.ended||cn(this,Ft,void 0,"f")},Ps=function(n){let s=ie(this,un,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ie(this,un,"f")[n.index]=s,s)},Qr=function(n){var r,i,o,a,l,c,f,u,p,m,y,_,C,$,w;if(this.ended)return;const s=ie(this,_e,"m",Na).call(this,n);this._emit("chunk",n,s);for(const E of n.choices){const R=s.choices[E.index];E.delta.content!=null&&((r=R.message)==null?void 0:r.role)==="assistant"&&((i=R.message)!=null&&i.content)&&(this._emit("content",E.delta.content,R.message.content),this._emit("content.delta",{delta:E.delta.content,snapshot:R.message.content,parsed:R.message.parsed})),E.delta.refusal!=null&&((o=R.message)==null?void 0:o.role)==="assistant"&&((a=R.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:E.delta.refusal,snapshot:R.message.refusal}),((l=E.logprobs)==null?void 0:l.content)!=null&&((c=R.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(f=E.logprobs)==null?void 0:f.content,snapshot:((u=R.logprobs)==null?void 0:u.content)??[]}),((p=E.logprobs)==null?void 0:p.refusal)!=null&&((m=R.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(y=E.logprobs)==null?void 0:y.refusal,snapshot:((_=R.logprobs)==null?void 0:_.refusal)??[]});const k=ie(this,_e,"m",Ps).call(this,R);R.finish_reason&&(ie(this,_e,"m",Gr).call(this,R),k.current_tool_call_index!=null&&ie(this,_e,"m",Xr).call(this,R,k.current_tool_call_index));for(const U of E.delta.tool_calls??[])k.current_tool_call_index!==U.index&&(ie(this,_e,"m",Gr).call(this,R),k.current_tool_call_index!=null&&ie(this,_e,"m",Xr).call(this,R,k.current_tool_call_index)),k.current_tool_call_index=U.index;for(const U of E.delta.tool_calls??[]){const N=(C=R.message.tool_calls)==null?void 0:C[U.index];N!=null&&N.type&&((N==null?void 0:N.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:($=N.function)==null?void 0:$.name,index:U.index,arguments:N.function.arguments,parsed_arguments:N.function.parsed_arguments,arguments_delta:((w=U.function)==null?void 0:w.arguments)??""}):(N==null||N.type,void 0))}}},Xr=function(n,s){var o,a,l;if(ie(this,_e,"m",Ps).call(this,n).done_tool_calls.has(s))return;const i=(o=n.message.tool_calls)==null?void 0:o[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(a=ie(this,At,"f"))==null?void 0:a.tools)==null?void 0:l.find(f=>f.type==="function"&&f.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:gs(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Gr=function(n){var r,i;const s=ie(this,_e,"m",Ps).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=ie(this,_e,"m",Yr).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Os=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=ie(this,Ft,"f");if(!n)throw new V("request ended without sending any chunks");return cn(this,Ft,void 0,"f"),cn(this,un,[],"f"),ym(n,ie(this,At,"f"))},Yr=function(){var s;const n=(s=ie(this,At,"f"))==null?void 0:s.response_format;return so(n)?n:null},Na=function(n){var s,r,i,o;let a=ie(this,Ft,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=cn(this,Ft,{...c,choices:[]},"f");for(const{delta:f,finish_reason:u,index:p,logprobs:m=null,...y}of n.choices){let _=a.choices[p];if(_||(_=a.choices[p]={finish_reason:u,index:p,message:{},logprobs:m,...y}),m)if(!_.logprobs)_.logprobs=Object.assign({},m);else{const{content:U,refusal:N,...H}=m;Object.assign(_.logprobs,H),U&&((s=_.logprobs).content??(s.content=[]),_.logprobs.content.push(...U)),N&&((r=_.logprobs).refusal??(r.refusal=[]),_.logprobs.refusal.push(...N))}if(u&&(_.finish_reason=u,ie(this,At,"f")&&nu(ie(this,At,"f")))){if(u==="length")throw new Lc;if(u==="content_filter")throw new Bc}if(Object.assign(_,y),!f)continue;const{content:C,refusal:$,function_call:w,role:E,tool_calls:R,...k}=f;if(Object.assign(_.message,k),$&&(_.message.refusal=(_.message.refusal||"")+$),E&&(_.message.role=E),w&&(_.message.function_call?(w.name&&(_.message.function_call.name=w.name),w.arguments&&((i=_.message.function_call).arguments??(i.arguments=""),_.message.function_call.arguments+=w.arguments)):_.message.function_call=w),C&&(_.message.content=(_.message.content||"")+C,!_.message.refusal&&ie(this,_e,"m",Yr).call(this)&&(_.message.parsed=Fa(_.message.content))),R){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:U,id:N,type:H,function:D,...q}of R){const z=(o=_.message.tool_calls)[U]??(o[U]={});Object.assign(z,q),N&&(z.id=N),H&&(z.type=H),D&&(z.function??(z.function={name:D.name??"",arguments:""})),D!=null&&D.name&&(z.function.name=D.name),D!=null&&D.arguments&&(z.function.arguments+=D.arguments,fm(ie(this,At,"f"),z)&&(z.function.parsed_arguments=Fa(z.function.arguments)))}}}return a},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new wt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function ym(e,t){const{id:n,choices:s,created:r,model:i,system_fingerprint:o,...a}=e,l={...a,id:n,choices:s.map(({message:c,finish_reason:f,index:u,logprobs:p,...m})=>{if(!f)throw new V(`missing finish_reason for choice ${u}`);const{content:y=null,function_call:_,tool_calls:C,...$}=c,w=c.role;if(!w)throw new V(`missing role for choice ${u}`);if(_){const{arguments:E,name:R}=_;if(E==null)throw new V(`missing function_call.arguments for choice ${u}`);if(!R)throw new V(`missing function_call.name for choice ${u}`);return{...m,message:{content:y,function_call:{arguments:E,name:R},role:w,refusal:c.refusal??null},finish_reason:f,index:u,logprobs:p}}return C?{...m,index:u,finish_reason:f,logprobs:p,message:{...$,role:w,content:y,refusal:c.refusal??null,tool_calls:C.map((E,R)=>{const{function:k,type:U,id:N,...H}=E,{arguments:D,name:q,...z}=k||{};if(N==null)throw new V(`missing choices[${u}].tool_calls[${R}].id
${Is(e)}`);if(U==null)throw new V(`missing choices[${u}].tool_calls[${R}].type
${Is(e)}`);if(q==null)throw new V(`missing choices[${u}].tool_calls[${R}].function.name
${Is(e)}`);if(D==null)throw new V(`missing choices[${u}].tool_calls[${R}].function.arguments
${Is(e)}`);return{...H,id:N,type:U,function:{...z,name:q,arguments:D}}})}}:{...m,message:{...$,content:y,role:w,refusal:c.refusal??null},finish_reason:f,index:u,logprobs:p}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return lm(l,t)}function Is(e){return JSON.stringify(e)}class Rn extends us{static fromReadableStream(t){const n=new Rn(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,s){const r=new Rn(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(t,n,i)),r}static runTools(t,n,s){const r=new Rn(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(t,n,i)),r}}let yu=class extends Z{parse(t,n){return dm(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>ro(s,t))}runFunctions(t,n){return t.stream?Rn.runFunctions(this._client,t,n):cs.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?Rn.runTools(this._client,t,n):cs.runTools(this._client,t,n)}stream(t,n){return us.createChatCompletion(this._client,t,n)}};class Ai extends Z{constructor(){super(...arguments),this.completions=new yu(this._client)}}(function(e){e.Completions=yu})(Ai||(Ai={}));class wu extends Z{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class io extends Z{constructor(){super(...arguments),this.sessions=new wu(this._client)}}io.Sessions=wu;var B=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},Ve=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},Ce,Ei,gt,js,nt,Yt,yn,Gt,er,Je,Us,Hs,ts,Hn,Wn,ka,Da,La,Ba,ja,Ua,Ha;class rt extends no{constructor(){super(...arguments),Ce.add(this),Ei.set(this,[]),gt.set(this,{}),js.set(this,{}),nt.set(this,void 0),Yt.set(this,void 0),yn.set(this,void 0),Gt.set(this,void 0),er.set(this,void 0),Je.set(this,void 0),Us.set(this,void 0),Hs.set(this,void 0),ts.set(this,void 0)}[(Ei=new WeakMap,gt=new WeakMap,js=new WeakMap,nt=new WeakMap,Yt=new WeakMap,yn=new WeakMap,Gt=new WeakMap,er=new WeakMap,Je=new WeakMap,Us=new WeakMap,Hs=new WeakMap,ts=new WeakMap,Ce=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new rt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=wt.fromReadableStream(t,this.controller);for await(const o of r)B(this,Ce,"m",Hn).call(this,o);if((i=r.controller.signal)!=null&&i.aborted)throw new Ge;return this._addRun(B(this,Ce,"m",Wn).call(this))}toReadableStream(){return new wt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,s,r,i){const o=new rt;return o._run(()=>o._runToolAssistantStream(t,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,s,r,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await t.submitToolOutputs(n,s,a,{...i,signal:this.controller.signal});this._connected();for await(const f of l)B(this,Ce,"m",Hn).call(this,f);if((c=l.controller.signal)!=null&&c.aborted)throw new Ge;return this._addRun(B(this,Ce,"m",Wn).call(this))}static createThreadAssistantStream(t,n,s){const r=new rt;return r._run(()=>r._threadAssistantStream(t,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(t,n,s,r){const i=new rt;return i._run(()=>i._runAssistantStream(t,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return B(this,Us,"f")}currentRun(){return B(this,Hs,"f")}currentMessageSnapshot(){return B(this,nt,"f")}currentRunStepSnapshot(){return B(this,ts,"f")}async finalRunSteps(){return await this.done(),Object.values(B(this,gt,"f"))}async finalMessages(){return await this.done(),Object.values(B(this,js,"f"))}async finalRun(){if(await this.done(),!B(this,Yt,"f"))throw Error("Final run was not received.");return B(this,Yt,"f")}async _createThreadAssistantStream(t,n,s){var a;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)B(this,Ce,"m",Hn).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Ge;return this._addRun(B(this,Ce,"m",Wn).call(this))}async _createAssistantStream(t,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},a=await t.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const c of a)B(this,Ce,"m",Hn).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Ge;return this._addRun(B(this,Ce,"m",Wn).call(this))}static accumulateDelta(t,n){for(const[s,r]of Object.entries(n)){if(!t.hasOwnProperty(s)){t[s]=r;continue}let i=t[s];if(i==null){t[s]=r;continue}if(s==="index"||s==="type"){t[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(Jr(i)&&Jr(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}for(const o of r){if(!Jr(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);t[s]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,s){return await this._createThreadAssistantStream(n,t,s)}async _runAssistantStream(t,n,s,r){return await this._createAssistantStream(n,t,s,r)}async _runToolAssistantStream(t,n,s,r,i){return await this._createToolAssistantStream(s,t,n,r,i)}}Hn=function(t){if(!this.ended)switch(Ve(this,Us,t,"f"),B(this,Ce,"m",La).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":B(this,Ce,"m",Ha).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":B(this,Ce,"m",Da).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":B(this,Ce,"m",ka).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Wn=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");if(!B(this,Yt,"f"))throw Error("Final run has not been received");return B(this,Yt,"f")},ka=function(t){const[n,s]=B(this,Ce,"m",ja).call(this,t,B(this,nt,"f"));Ve(this,nt,n,"f"),B(this,js,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const r of t.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=B(this,yn,"f")){if(B(this,Gt,"f"))switch(B(this,Gt,"f").type){case"text":this._emit("textDone",B(this,Gt,"f").text,B(this,nt,"f"));break;case"image_file":this._emit("imageFileDone",B(this,Gt,"f").image_file,B(this,nt,"f"));break}Ve(this,yn,r.index,"f")}Ve(this,Gt,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(B(this,yn,"f")!==void 0){const r=t.data.content[B(this,yn,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,B(this,nt,"f"));break;case"text":this._emit("textDone",r.text,B(this,nt,"f"));break}}B(this,nt,"f")&&this._emit("messageDone",t.data),Ve(this,nt,void 0,"f")}},Da=function(t){const n=B(this,Ce,"m",Ba).call(this,t);switch(Ve(this,ts,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==B(this,er,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(B(this,Je,"f")&&this._emit("toolCallDone",B(this,Je,"f")),Ve(this,er,i.index,"f"),Ve(this,Je,n.step_details.tool_calls[i.index],"f"),B(this,Je,"f")&&this._emit("toolCallCreated",B(this,Je,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ve(this,ts,void 0,"f"),t.data.step_details.type=="tool_calls"&&B(this,Je,"f")&&(this._emit("toolCallDone",B(this,Je,"f")),Ve(this,Je,void 0,"f")),this._emit("runStepDone",t.data,n);break}},La=function(t){B(this,Ei,"f").push(t),this._emit("event",t)},Ba=function(t){switch(t.event){case"thread.run.step.created":return B(this,gt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=B(this,gt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const r=rt.accumulateDelta(n,s.delta);B(this,gt,"f")[t.data.id]=r}return B(this,gt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":B(this,gt,"f")[t.data.id]=t.data;break}if(B(this,gt,"f")[t.data.id])return B(this,gt,"f")[t.data.id];throw new Error("No snapshot available")},ja=function(t,n){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=t.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=B(this,Ce,"m",Ua).call(this,i,o)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Ua=function(t,n){return rt.accumulateDelta(n,t)},Ha=function(t){switch(Ve(this,Hs,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Ve(this,Yt,t.data,"f"),B(this,Je,"f")&&(this._emit("toolCallDone",B(this,Je,"f")),Ve(this,Je,void 0,"f"));break}};class oo extends Z{create(t,n,s){return this._client.post(`/threads/${t}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,n,s){return this._client.get(`/threads/${t}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,n,s,r){return this._client.post(`/threads/${t}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},s){return xe(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,ao,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,n,s){return this._client.delete(`/threads/${t}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class ao extends Ue{}oo.MessagesPage=ao;class lo extends Z{retrieve(t,n,s,r={},i){return xe(r)?this.retrieve(t,n,s,{},r):this._client.get(`/threads/${t}/runs/${n}/steps/${s}`,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,s={},r){return xe(s)?this.list(t,n,{},s):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,co,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class co extends Ue{}lo.RunStepsPage=co;class _s extends Z{constructor(){super(...arguments),this.steps=new lo(this._client)}create(t,n,s){const{include:r,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:r},body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(t,n,s){return this._client.get(`/threads/${t}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,n,s,r){return this._client.post(`/threads/${t}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},s){return xe(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,uo,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,n,s){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n,s);return await this.poll(t,r.id,s)}createAndStream(t,n,s){return rt.createAssistantStream(t,this._client.beta.threads.runs,n,s)}async poll(t,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await ps(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,s){return rt.createAssistantStream(t,this._client.beta.threads.runs,n,s)}submitToolOutputs(t,n,s,r){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(t,n,s,r){const i=await this.submitToolOutputs(t,n,s,r);return await this.poll(t,i.id,r)}submitToolOutputsStream(t,n,s,r){return rt.createToolAssistantStream(t,n,this._client.beta.threads.runs,s,r)}}class uo extends Ue{}_s.RunsPage=uo;_s.Steps=lo;_s.RunStepsPage=co;class In extends Z{constructor(){super(...arguments),this.runs=new _s(this._client),this.messages=new oo(this._client)}create(t={},n){return xe(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,s){return this._client.post(`/threads/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const s=await this.createAndRun(t,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(t,n){return rt.createThreadAssistantStream(t,this._client.beta.threads,n)}}In.Runs=_s;In.RunsPage=uo;In.Messages=oo;In.MessagesPage=ao;class Tn extends Z{constructor(){super(...arguments),this.realtime=new io(this._client),this.chat=new Ai(this._client),this.assistants=new eo(this._client),this.threads=new In(this._client)}}Tn.Realtime=io;Tn.Assistants=eo;Tn.AssistantsPage=to;Tn.Threads=In;class bu extends Z{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class vu extends Z{create(t,n){return this._client.post("/embeddings",{body:t,...n})}}let fo=class extends Z{create(t,n){return this._client.post("/files",On({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return xe(t)?this.list({},t):this._client.getAPIList("/files",ho,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!r.has(o.status);)if(await ps(n),o=await this.retrieve(t),Date.now()-i>s)throw new Xi({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return o}};class ho extends Ue{}fo.FileObjectsPage=ho;class po extends Z{list(t,n={},s){return xe(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,mo,{query:n,...s})}}class mo extends Ue{}po.FineTuningJobCheckpointsPage=mo;class $n extends Z{constructor(){super(...arguments),this.checkpoints=new po(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return xe(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",go,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},s){return xe(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,_o,{query:n,...s})}}class go extends Ue{}class _o extends Ue{}$n.FineTuningJobsPage=go;$n.FineTuningJobEventsPage=_o;$n.Checkpoints=po;$n.FineTuningJobCheckpointsPage=mo;class ys extends Z{constructor(){super(...arguments),this.jobs=new $n(this._client)}}ys.Jobs=$n;ys.FineTuningJobsPage=go;ys.FineTuningJobEventsPage=_o;class xu extends Z{createVariation(t,n){return this._client.post("/images/variations",On({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",On({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class yo extends Z{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",wo,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class wo extends Gi{}yo.ModelsPage=wo;class Su extends Z{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function wm(e,t){return!t||!vm(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(s=>({...s,parsed:null}))}:n)}:Cu(e,t)}function Cu(e,t){const n=e.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:Cm(t,r)};if(r.type==="message"){const i=r.content.map(o=>o.type==="output_text"?{...o,parsed:bm(t,o.text)}:o);return{...r,content:i}}return r}),s=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Ru(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const r of s.output)if(r.type==="message"){for(const i of r.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),s}function bm(e,t){var n,s,r,i;return((s=(n=e.text)==null?void 0:n.format)==null?void 0:s.type)!=="json_schema"?null:"$parseRaw"in((r=e.text)==null?void 0:r.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function vm(e){var t;return!!so((t=e.text)==null?void 0:t.format)}function xm(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Sm(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Cm(e,t){const n=Sm(e.tools??[],t.name);return{...t,...t,parsed_arguments:xm(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Ru(e){const t=[];for(const n of e.output)if(n.type==="message")for(const s of n.content)s.type==="output_text"&&t.push(s.text);e.output_text=t.join("")}class Au extends Z{list(t,n={},s){return xe(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,Am,{query:n,...s})}}var fn=function(e,t,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n},Nt=function(e,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(e):s?s.value:t.get(e)},dn,Ts,kt,$s,Wa,Va,qa,Ka;class bo extends no{constructor(t){super(),dn.add(this),Ts.set(this,void 0),kt.set(this,void 0),$s.set(this,void 0),fn(this,Ts,t,"f")}static createResponse(t,n,s){const r=new bo(n);return r._run(()=>r._createResponse(t,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createResponse(t,n,s){var o;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Nt(this,dn,"m",Wa).call(this);const i=await t.responses.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)Nt(this,dn,"m",Va).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Ge;return Nt(this,dn,"m",qa).call(this)}[(Ts=new WeakMap,kt=new WeakMap,$s=new WeakMap,dn=new WeakSet,Wa=function(){this.ended||fn(this,kt,void 0,"f")},Va=function(n){if(this.ended)return;const s=Nt(this,dn,"m",Ka).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);if(r.type==="message"){const i=r.content[n.content_index];if(!i)throw new V(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new V(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...n,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);r.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:r.arguments});break}default:this._emit(n.type,n);break}},qa=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=Nt(this,kt,"f");if(!n)throw new V("request ended without sending any events");fn(this,kt,void 0,"f");const s=Rm(n,Nt(this,Ts,"f"));return fn(this,$s,s,"f"),s},Ka=function(n){let s=Nt(this,kt,"f");if(!s){if(n.type!=="response.created")throw new V(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return s=fn(this,kt,n.response,"f"),s}switch(n.type){case"response.output_item.added":{s.output.push(n.item);break}case"response.content_part.added":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);r.type==="message"&&r.content.push(n.part);break}case"response.output_text.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);if(r.type==="message"){const i=r.content[n.content_index];if(!i)throw new V(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new V(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const r=s.output[n.output_index];if(!r)throw new V(`missing output at index ${n.output_index}`);r.type==="function_call"&&(r.arguments+=n.delta);break}case"response.completed":{fn(this,kt,n.response,"f");break}}return s},Symbol.asyncIterator)](){const t=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):t.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Nt(this,$s,"f");if(!t)throw new V("stream ended without producing a ChatCompletion");return t}}function Rm(e,t){return wm(e,t)}class vo extends Z{constructor(){super(...arguments),this.inputItems=new Au(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Ru(s),s))}retrieve(t,n={},s){return xe(n)?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,{query:n,...s})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(s=>Cu(s,t))}stream(t,n){return bo.createResponse(this._client,t,n)}}class Am extends Ue{}vo.InputItems=Au;class Eu extends Z{create(t,n,s){return this._client.post(`/uploads/${t}/parts`,On({body:n,...s}))}}class xo extends Z{constructor(){super(...arguments),this.parts=new Eu(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,s){return this._client.post(`/uploads/${t}/complete`,{body:n,...s})}}xo.Parts=Eu;const Em=async e=>{const t=await Promise.allSettled(e),n=t.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of t)r.status==="fulfilled"&&s.push(r.value);return s};class Cr extends Z{create(t,n,s){return this._client.post(`/vector_stores/${t}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,n,s){return this._client.get(`/vector_stores/${t}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,n,s,r){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},s){return xe(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Rr,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,n,s){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n,s);return await this.poll(t,r.id,s)}async poll(t,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...s,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await ps(a);break;case"failed":case"completed":return o}}}async upload(t,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(t,{file_id:r.id},s)}async uploadAndPoll(t,n,s){const r=await this.upload(t,n,s);return await this.poll(t,r.id,s)}content(t,n,s){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,So,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Rr extends Ue{}class So extends Gi{}Cr.VectorStoreFilesPage=Rr;Cr.FileContentResponsesPage=So;class Pu extends Z{create(t,n,s){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,n,s){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,n,s){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,n,s){const r=await this.create(t,n);return await this.poll(t,r.id,s)}listFiles(t,n,s={},r){return xe(s)?this.listFiles(t,n,{},s):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Rr,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(t,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await ps(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),c=[...s];async function f(p){for(let m of p){const y=await a.files.create({file:m,purpose:"assistants"},r);c.push(y.id)}}const u=Array(o).fill(l).map(f);return await Em(u),await this.createAndPoll(t,{file_ids:c})}}class Kt extends Z{constructor(){super(...arguments),this.files=new Cr(this._client),this.fileBatches=new Pu(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,s){return this._client.post(`/vector_stores/${t}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},n){return xe(t)?this.list({},t):this._client.getAPIList("/vector_stores",Co,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,s){return this._client.getAPIList(`/vector_stores/${t}/search`,Ro,{body:n,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Co extends Ue{}class Ro extends Gi{}Kt.VectorStoresPage=Co;Kt.VectorStoreSearchResponsesPage=Ro;Kt.Files=Cr;Kt.VectorStoreFilesPage=Rr;Kt.FileContentResponsesPage=So;Kt.FileBatches=Pu;var Ou;class G extends zp{constructor({baseURL:t=As("OPENAI_BASE_URL"),apiKey:n=As("OPENAI_API_KEY"),organization:s=As("OPENAI_ORG_ID")??null,project:r=As("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new V("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:s,project:r,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&im())throw new V(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new bu(this),this.chat=new Sr(this),this.embeddings=new vu(this),this.files=new fo(this),this.images=new xu(this),this.audio=new ms(this),this.moderations=new Su(this),this.models=new yo(this),this.fineTuning=new ys(this),this.vectorStores=new Kt(this),this.beta=new Tn(this),this.batches=new Yi(this),this.uploads=new xo(this),this.responses=new vo(this),this._options=o,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Ip(t,{arrayFormat:"brackets"})}}Ou=G;G.OpenAI=Ou;G.DEFAULT_TIMEOUT=6e5;G.OpenAIError=V;G.APIError=Ae;G.APIConnectionError=_r;G.APIConnectionTimeoutError=Xi;G.APIUserAbortError=Ge;G.NotFoundError=Mc;G.ConflictError=Fc;G.RateLimitError=kc;G.BadRequestError=Ic;G.AuthenticationError=Tc;G.InternalServerError=Dc;G.PermissionDeniedError=$c;G.UnprocessableEntityError=Nc;G.toFile=Wc;G.fileFromPath=Pc;G.Completions=bu;G.Chat=Sr;G.ChatCompletionsPage=xr;G.Embeddings=vu;G.Files=fo;G.FileObjectsPage=ho;G.Images=xu;G.Audio=ms;G.Moderations=Su;G.Models=yo;G.ModelsPage=wo;G.FineTuning=ys;G.VectorStores=Kt;G.VectorStoresPage=Co;G.VectorStoreSearchResponsesPage=Ro;G.Beta=Tn;G.Batches=Yi;G.BatchesPage=Zi;G.Uploads=xo;G.Responses=vo;async function Pm(e,t,n){var o,a;const s=new G({apiKey:e,dangerouslyAllowBrowser:!0}),r=JSON.stringify([{question:"Quelle est la capitale de la France ?",choices:["Londres","Berlin","Madrid","Paris"],correctAnswerIndex:3}],null,2),i=`Génère un quiz sur le sujet suivant : "${t}" avec un niveau de difficulté de ${n}/100.
  Retourne exactement 5 questions sous **forme de JSON strictement valide** et structuré comme l'exemple suivant :

  ${r}

  **Contraintes** :
  - Mélange **aléatoirement** l’ordre des réponses.
  - **Ne mets la bonne réponse en premier que rarement (moins de 20% du temps)**.
  - Sélectionne un \`correctAnswerIndex\` **aléatoire** entre 0 et 3.
  - La sortie **doit être du JSON pur**, sans texte supplémentaire ni balises Markdown.`;try{const c=(a=(o=(await s.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"user",content:i}]})).choices[0])==null?void 0:o.message)==null?void 0:a.content;if(!c)throw new Error("Réponse vide de l'API OpenAI.");return JSON.parse(c)}catch(l){return console.error("Erreur API OpenAI :",l),null}}const Om={class:"w-full max-w-lg rounded-lg bg-white p-4 shadow-md"},Im={class:"mb-3 text-center text-xl font-bold"},Tm={key:0,class:"min-h-[40px] text-center text-gray-500"},$m={key:1,class:"min-h-[40px] text-center text-red-500"},Mm={key:2},Fm={class:"text-md text-center font-semibold"},Nm={class:"mt-2 space-y-1"},km=["onClick","disabled"],Dm={class:"mt-2 flex min-h-[40px] items-center justify-center"},Lm={key:0,class:"text-center text-sm font-semibold opacity-100 transition-opacity"},Bm={key:0,class:"text-green-600"},jm={key:1,class:"text-red-600"},Um={class:"mt-2 flex min-h-[40px] items-center justify-center"},Hm={key:3},Wm={__name:"Quiz",setup(e){const t=pr(),n=ve(!0),s=ve(null),r=ve(null),i=ve(!1),o=ve(0),a=Te(()=>t.questions[o.value]),l=Te(()=>{var u;return((u=a.value)==null?void 0:u.correctAnswerIndex)??-1}),c=u=>{r.value=u,i.value=u===l.value,t.answers.push({question:a.value,selected:u,isCorrect:i.value})},f=()=>{r.value=null,o.value++,a.value||t.finishQuiz()};return qi(async()=>{t.startQuiz();try{const u=await Pm(t.apiKey,t.topic,t.difficulty);t.setQuestions(u)}catch(u){s.value=u.message}finally{n.value=!1}}),(u,p)=>{const m=Ki("router-link");return Se(),Pe("div",Om,[ue("h2",Im," Quiz : "+st(Qe(t).topic),1),n.value?(Se(),Pe("div",Tm," Génération des questions... ")):Ss("",!0),s.value?(Se(),Pe("div",$m,st(s.value),1)):a.value?(Se(),Pe("div",Mm,[ue("p",Fm,st(o.value+1)+". "+st(a.value.question),1),ue("div",Nm,[(Se(!0),Pe(_t,null,Df(a.value.choices,(y,_)=>(Se(),Pe("button",{key:_,onClick:C=>c(_),class:or(["h-10 w-full cursor-pointer rounded border p-2 text-sm transition-all",{"bg-green-500 text-white":r.value===_&&i.value,"bg-red-500 text-white":r.value===_&&!i.value,"bg-green-200 text-black":l.value===_&&r.value!==null,"hover:bg-gray-200":r.value===null}]),disabled:r.value!==null},st(y),11,km))),128))]),ue("div",Dm,[r.value!==null?(Se(),Pe("p",Lm,[i.value?(Se(),Pe("span",Bm,"✅ Bonne réponse !")):(Se(),Pe("span",jm,'❌ Mauvaise réponse. La bonne réponse était : "'+st(a.value.choices[l.value])+'"',1))])):Ss("",!0)]),ue("div",Um,[r.value!==null?(Se(),Pe("button",{key:0,onClick:f,class:"h-10 w-full cursor-pointer rounded bg-blue-500 px-4 py-2 text-sm text-white transition-all hover:bg-blue-600"}," Suivant ")):Ss("",!0)])])):!n.value&&Qe(t).questions.length>0?(Se(),Pe("div",Hm,[p[1]||(p[1]=ue("p",{class:"text-center"},"Quiz terminé !",-1)),$e(m,{to:"/results"},{default:Wi(()=>p[0]||(p[0]=[ue("button",{class:"mt-2 h-10 w-full cursor-pointer rounded bg-green-500 px-4 py-2 text-sm text-white transition-all hover:bg-green-600"}," Voir les résultats ",-1)])),_:1})])):Ss("",!0)])}}},Vm={class:"mx-auto w-full max-w-lg rounded-lg bg-white p-4 text-center shadow-md"},qm={class:"text-lg font-semibold"},Km={class:"text-gray-600"},Jm={__name:"Results",setup(e){const t=pr(),n=Te(()=>t.answers.reduce((s,r,i)=>s+(r.selected===r.question.correctAnswerIndex?1:0),0));return(s,r)=>{const i=Ki("router-link");return Se(),Pe("div",Vm,[r[1]||(r[1]=ue("h1",{class:"mb-3 text-xl font-bold"},"Résultats",-1)),ue("p",qm," Score : "+st(n.value)+" / "+st(Qe(t).questions.length),1),ue("p",Km," ⏱ Temps écoulé : "+st(Qe(t).getTimeElapsed)+" secondes ",1),$e(i,{to:"/"},{default:Wi(()=>r[0]||(r[0]=[ue("button",{class:"mt-4 h-10 w-full cursor-pointer rounded bg-blue-500 px-4 py-2 text-sm text-white transition-all hover:bg-blue-600"}," Refaire un quiz ",-1)])),_:1})])}}},zm=[{path:"/",component:bp},{path:"/quiz",component:Wm},{path:"/results",component:Jm}],Qm=pp({history:Wh(),routes:zm}),Ao=Zd(fh);Ao.use(nh());Ao.use(Qm);Ao.mount("#app");
